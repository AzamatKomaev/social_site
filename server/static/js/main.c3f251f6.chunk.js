(this["webpackJsonpsocial-ui"]=this["webpackJsonpsocial-ui"]||[]).push([[0],{17:function(e,t,c){},39:function(e,t,c){},4:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(32),r=c.n(n),i=c(70),o=c(11),l=(c(39),c(8)),j=c(2),d=c(3),u=c.n(d),b=c(69),h=(c(4),c(12)),x=c.n(h),m=c(13),O=function(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(t.toLocaleString("default",{month:"long"})," ").concat(t.getFullYear()," \u0433. ").concat(t.getHours(),":").concat(t.getMinutes())},p=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,u.a.get("http://127.0.0.1:8000/api/v1/user/is_auth/",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){t={info:e.data,isAuth:!0}})).catch((function(e){t={info:null,isAuth:!1},e.response.status&&401!=e.response.status&&alert(e.response.status+" error")}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,u.a.get("http://127.0.0.1:8000/api/v1/category/").then((function(e){t=e.data})).catch((function(e){alert(e.response.status+" error"),t=null}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(c(5),c(0)),v=function(){return Object(g.jsxs)("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow",children:[Object(g.jsx)("h3",{className:"my-0 mr-md-auto font-weight-normal",children:"InTheGame"}),Object(g.jsxs)("nav",{className:"my-2 my-md-0 mr-md-3",children:[Object(g.jsx)("a",{className:"p-2 text-dark",href:"/categories",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"}),Object(g.jsx)("a",{className:"p-2 text-dark",href:"{% url 'show_all_users' %}",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(g.jsx)("a",{className:"p-2 text-dark",href:"api/v1",children:"API"}),Object(g.jsx)("a",{className:"p-2 text-dark",href:"#",children:"\u041e \u043d\u0430\u0441"})]}),Object(g.jsx)("a",{className:"btn btn-outline-primary",href:"/auth/login/",style:{marginRight:"5px"},children:"\u0412\u0445\u043e\u0434"}),Object(g.jsx)("a",{className:"btn btn-outline-secondary",href:"/auth/sign_up/",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},N=function(e){return Object(g.jsx)("div",{className:"col-11 col-sm-11 col-md-10 col-lg-8 col-xl-8 mx-auto border border-primary",children:Object(g.jsx)("a",{href:"/categories/c_id/"+e.id,className:"list-group-item list-group-item-action border-0",children:Object(g.jsxs)("div",{className:"d-flex align-items-start",style:{marginLeft:"-10px"},children:[Object(g.jsx)("img",{src:e.avatar,className:"rounded-circle mr-1",alt:"user1",width:"65",height:"65",style:{marginLeft:"-10px"}}),Object(g.jsxs)("div",{className:"flex-grow-1 ml-3",children:[Object(g.jsx)("p",{className:"category-name",children:e.name}),Object(g.jsxs)("div",{className:"small",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u0441\u0442\u043e\u0432: ",e.count]})]})]})})})},y=function(e){return Object(g.jsx)("div",{className:"container-fluid",children:e.categories.map((function(e){return Object(g.jsx)("div",{className:"row",style:{marginTop:"25px"},children:Object(g.jsx)(N,{id:e.id,name:e.name,avatar:e.avatar,count:e.count},e.id)})}))})},w=function(e){return e.userData?Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"jumbotron",children:[Object(g.jsx)("h1",{children:"\u0417\u0434\u0440\u0430\u0441\u0442\u0432\u0443\u0439\u0442\u0435!"}),Object(g.jsxs)("p",{className:"lead",style:{fontSize:"18pt"},children:[e.userData.username,", \u0434\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 InTheGame. ",Object(g.jsx)("a",{href:"#",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0432\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c?"}),Object(g.jsxs)("h2",{align:"center",style:{fontSize:"20pt"},children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430: ",e.userData.group_data.name]})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("a",{className:"btn btn-lg btn-primary btn-block",href:"{% url 'profile' username=user.username %}",role:"button",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(g.jsx)("a",{className:"btn btn-lg btn-success btn-block",href:"/categories/create/",role:"button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(g.jsx)("a",{className:"btn btn-lg btn-warning btn-block",href:"{% url 'all_chats' %}",role:"button",children:"\u0427\u0430\u0442\u044b"}),Object(g.jsx)("button",{className:"btn btn-lg btn-danger btn-block",onClick:function(e){localStorage.clear(),window.location.href="http://127.0.0.1:8000/auth/login/"},children:"\u0412\u044b\u0439\u0442\u0438"})]})})]})}):Object(g.jsx)("div",{})},S=function(){return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"jumbotron",children:[Object(g.jsx)("h1",{style:{fontSize:"23pt"},children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("h2",{style:{fontSize:"20pt"},children:["\u0412\u044b \u043d\u0435 \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442, ",Object(g.jsx)("a",{href:"/auth/login/",children:"\u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043e\u0439\u0442\u0438?"})]})]})})},_=function(e){var t=Object(a.useState)(),c=Object(j.a)(t,2),s=(c[0],c[1],Object(a.useState)()),n=Object(j.a)(s,2);n[0],n[1];return e.isAuth?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(w,{jwtToken:localStorage.getItem("jwt"),userData:e.userData},Object(b.a)()),"\n\n",Object(g.jsx)(y,{categories:e.categories},Object(b.a)())]}):Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(S,{}),"\n\n",Object(g.jsx)(y,{categories:e.categories},Object(b.a)())]})},k=function(){return Object(g.jsx)("section",{id:"wrapper",className:"container-fluid",children:Object(g.jsx)("div",{className:"error-box",children:Object(g.jsxs)("div",{className:"error-body text-center",children:[Object(g.jsx)("h1",{className:"text-danger",style:{fontSize:"100px"},children:"404"}),Object(g.jsx)("h3",{children:"Page Not Found !"}),Object(g.jsx)("p",{className:"text-muted m-t-30 m-b-30",children:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u043f\u0435\u0447\u0430\u0442\u0430\u043b\u0438\u0441\u044c \u0438\u043b\u0438 \u0432\u0430\u043c \u0441\u043a\u0438\u043d\u0443\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443... :)"}),Object(g.jsx)("a",{href:"/categories/",className:"btn btn-danger btn-rounded m-b-40",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})})})},C=function(){return Object(g.jsx)("div",{children:Object(g.jsx)("h2",{style:{marginLeft:"15px"},children:"429 Too many requests."})})},I=function(e){return Object(g.jsxs)("div",{className:"card border-secondary",children:[Object(g.jsx)("div",{className:"card-header bg-secondary text-white",children:Object(g.jsxs)("div",{class:"d-flex align-items-center py-1",children:[Object(g.jsx)("div",{class:"position-relative",children:Object(g.jsx)("img",{src:e.user_data.avatar.image,className:"rounded-circle float-left",alt:"avatar",width:"57",height:"57",style:{marginTop:"-10px"}})}),Object(g.jsxs)("div",{class:"flex-grow-1 pl-3",children:[Object(g.jsx)("a",{href:"",className:"text-white",style:{fontSize:"15pt"},children:e.user_data.username}),Object(g.jsx)("p",{className:"text-info",style:{fontSize:"12pt"},children:e.user_data.group_data.name})]})]})}),Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("a",{href:e.url,className:"text-dark",style:{textDecoration:"none"},children:[Object(g.jsx)("h4",{children:e.title}),e.text,e.photo?Object(g.jsxs)("div",{children:["\n",Object(g.jsx)("p",{style:{textAlign:"center"},children:Object(g.jsx)("img",{style:{width:"50%"},className:"img-fluid",src:e.photo,alt:e.photo})})]}):null]})}),Object(g.jsx)("div",{className:"card-footer",style:{display:"flex"},children:O(e.created_at)})]})},A=function(e){return Object(g.jsx)("div",{className:"posts",children:e.posts.map((function(t){return Object(g.jsxs)("div",{class:"container",children:[Object(g.jsx)(I,{id:t.id,title:t.title,text:t.text,created_at:t.created_at,user_data:t.user_data,photo:t.photo,url:"/categories/c_id/"+e.categoryId+"/"+t.id+"/"}),"\n\n\n"]})}))})},T=function(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(null),i=Object(j.a)(r,2),o=i[0],l=i[1],d=e.match.params.categoryId;return Object(a.useEffect)((function(){u.a.get("http://127.0.0.1:8000/api/v1/category/"+d+"/").then((function(e){n(e.data)})).catch((function(e){console.log(e.response),e.response.status&&l({response:e.response.status})}))}),[]),o?404==o.response?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),Object(g.jsx)(k,{style:{marginTop:"25px"}})]}):429==o.response?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(C,{})]}):(alert(o.response),Object(g.jsx)("div",{})):Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n\n",Object(g.jsx)(A,{posts:s,categoryId:d},Object(b.a)())]})},z=function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"card border-secondary",children:[Object(g.jsx)("div",{className:"card-header bg-secondary text-white",children:Object(g.jsxs)("div",{class:"d-flex align-items-center py-1",children:[Object(g.jsx)("div",{class:"position-relative",children:Object(g.jsx)("img",{src:e.user_data.avatar.image,alt:"avatar",style:{marginTop:"-10px"},className:"rounded-circle float-left",width:"48",height:"48"})}),Object(g.jsxs)("div",{class:"flex-grow-1 pl-3",children:[Object(g.jsx)("a",{href:"#",className:"text-white",style:{fontSize:"13pt"},children:e.user_data.username}),"\n",Object(g.jsx)("p",{className:"text-info",style:{fontSize:"10pt"},children:e.user_data.group_data.name})]})]})}),Object(g.jsx)("div",{className:"card-body",children:e.text}),Object(g.jsx)("div",{className:"card-footer",children:O(e.created_at)})]})})},P=function(e){return Object(g.jsx)("div",{className:"container",children:e.comments.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)(z,{id:e.id,text:e.text,created_at:e.created_at,user_data:e.user_data}),"\n"]})}))})},D=function(e){var t=Object(a.useState)(),c=Object(j.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(null),i=Object(j.a)(r,2),o=i[0],l=i[1];return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("textarea",{id:"id_text",name:"text",rows:"5",className:"form-control",spellcheck:"false",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",onChange:function(e){return n(e.target.value)},children:s}),Object(g.jsx)("p",{className:"form-text text-muted",style:{fontSize:"10pt"},children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u0432\u0430\u0436\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0438\u0445 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u043e\u0432!"})]}),Object(g.jsx)("p",{className:"text-danger",children:o}),Object(g.jsx)("div",{className:"form-group row",children:Object(g.jsx)("div",{className:"col-sm-10",children:Object(g.jsx)("button",{onClick:function(){u.a.post("http://127.0.0.1:8000/api/v1/category/"+e.categoryId+"/"+e.postId+"/comment/",{text:s},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){window.location.reload()})).catch((function(e){401==e.response.status?window.location.href="http://127.0.0.1:8000/auth/login/":400==e.response.status?l("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!"):alert(e.response.status+" error")}))},className:"btn btn-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})})]})},B=function(e){var t=e.match.params.categoryId,c=e.match.params.postId,s=Object(a.useState)(null),n=Object(j.a)(s,2),r=n[0],i=n[1],o=Object(a.useState)(!1),l=Object(j.a)(o,2),d=l[0],b=l[1];return Object(a.useEffect)((function(){u.a.get("http://127.0.0.1:8000/api/v1/category/"+t+"/"+c+"/").then((function(e){i(e.data)})).catch((function(e){e.response.status&&b({response:e.response.status})}))}),[]),404==d.response?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(k,{})]}):429==d.response?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(C,{})]}):!d&&r?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsxs)("div",{class:"container",children:[Object(g.jsx)(I,{id:r.id,title:r.title,text:r.text,created_at:r.created_at,user_data:r.user_data,photo:r.photo,url:"#"}),"\n\n\n",Object(g.jsx)(D,{postId:c,categoryId:t})]}),"\n\n\n",Object(g.jsx)("div",{className:"comments",children:Object(g.jsx)(P,{comments:r.comments})})]}):Object(g.jsx)("div",{})},F=function(e){var t=Object(a.useState)(),c=Object(j.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(),b=Object(j.a)(d,2),h=b[0],x=b[1],m=Object(a.useState)(null),O=Object(j.a)(m,2),p=O[0],f=O[1],v=Object(a.useState)({title:null,text:null,category:null}),N=Object(j.a)(v,2),y=N[0],w=N[1];return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("h2",{style:{margin:"0 35%",fontSize:"35px"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"}),"\n\n",Object(g.jsx)("label",{htmlFor:"select-category",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),"\n",Object(g.jsxs)("select",{class:"browser-default custom-select",id:"select-category",onChange:function(e){return n(e.target.value)},children:[Object(g.jsx)("option",{value:null,selected:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),e.categories.map((function(e){return Object(g.jsx)("option",{value:e.id,children:e.name})}))]}),Object(g.jsx)("p",{className:"text-danger",style:{marginTop:"-15px"},children:y.category}),Object(g.jsxs)("div",{className:"form-group",style:{marginTop:"100px"},children:[Object(g.jsx)("label",{htmlFor:"id_title",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),"\n",Object(g.jsx)("input",{type:"text",name:"title",maxlength:"199",id:"id_title",className:"form-control",value:o,onChange:function(e){return l(e.target.value)},placeholder:"\u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u043c\u0435\u0447\u0442\u0430..."}),Object(g.jsx)("p",{className:"form-text text-muted",style:{fontSize:"10pt"},children:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u043c\u044b\u0441\u043b \u043f\u043e\u0441\u0442\u0430 \u0432 \u0434\u0432\u0443\u0445 \u0441\u043b\u043e\u0432\u0430\u0445."}),Object(g.jsx)("p",{className:"text-danger",style:{marginTop:"-15px"},children:y.title})]}),"\n",Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"id_text",children:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442"}),"\n",Object(g.jsx)("textarea",{name:"text",rows:"10",required:"",id:"id_text",className:"form-control",spellcheck:"false",onChange:function(e){return x(e.target.value)},placeholder:"\u041c\u0435\u0447\u0442\u0430 - \u043e\u0441\u043e\u0431\u044b\u0439 \u0432\u0438\u0434 \u0432\u043e\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0441\u043e\u0431\u043e\u0439 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043e\u0431\u0440\u0430\u0437\u043e\u0432, \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435 \u0438 \u0432\u044b\u0440\u0430\u0436\u0430\u044e\u0449\u0438\u0439 \u0436\u0435\u043b\u0430\u043d\u0438\u044f \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430.",children:h}),Object(g.jsx)("p",{className:"form-text text-muted",style:{fontSize:"10pt"},children:"\u0410 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0438\u0437\u043b\u0435\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u0434\u0443\u0448\u0443."}),Object(g.jsx)("p",{className:"text-danger",style:{marginTop:"-15px"},children:y.text})]}),"\n",Object(g.jsx)("div",{className:"input-group mb-3",children:Object(g.jsxs)("div",{className:"custom-file",children:[Object(g.jsxs)("div",{className:"custom-file",children:[Object(g.jsx)("label",{htmlFor:"id_image",className:"custom-file-label",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"}),Object(g.jsx)("input",{type:"file",className:"custom-file-input",id:"id_image",accept:".png, .jpg, .jpeg",name:"image",onChange:function(e){e.preventDefault(),e.target.files[0]&&f(e.target.files[0])}})]}),Object(g.jsx)("div",{className:"input-group-append",children:Object(g.jsx)("span",{className:"input-group-text",id:"",children:"Upload"})})]})}),Object(g.jsx)("p",{className:"form-text text-muted",style:{fontSize:"10pt"},children:"\u0418 \u043d\u0430\u043a\u043e\u043d\u0435\u0446-\u0442\u043e \u043f\u0440\u043e\u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u044d\u0442\u043e \u043d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439!"}),"\n",Object(g.jsx)("div",{className:"form-group row",children:Object(g.jsx)("div",{className:"col-sm-10",children:Object(g.jsx)("button",{onClick:function(){void 0!=s&&"\u0412\u044b\u0431\u0435\u0440\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"!=s||alert("\u0412\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e. \u041a\u0443\u0434\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u0441\u0442? -_-");var e=function(e,t,c,a){var s=new FormData;return s.append("title",e),s.append("text",t),s.append("category",c),null!=a&&s.append("photo",a),s}(o,h,s,p);console.log(e),u.a.post("http://127.0.0.1:8000/api/v1/category/"+s+"/",e,{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){console.log(e.data),window.location.href="http://127.0.0.1:8000/categories/c_id/"+s+"/"})).catch((function(e){400==e.response.status&&w(e.response.data)}))},className:"btn btn-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})})]})},E=function(e){return e.isAuth?Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(F,{categories:e.categories})]}):e.isAuth?Object(g.jsx)("div",{}):Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",Object(g.jsx)(k,{})]})},L=(c(17),c(31),function(e){var t=Object(a.useState)(),c=Object(j.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),h=b[0],x=b[1];return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-10 mx-auto",children:Object(g.jsx)("div",{className:"registration-form",children:Object(g.jsxs)("div",{className:"form-login",children:[Object(g.jsx)("div",{className:"form-icon",children:Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"icon icon-user"})})}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"text",className:"form-control item",id:"username",value:s,onChange:function(e){return n(e.target.value)},placeholder:"Username"})}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"password",className:"form-control item",id:"password1",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Password"})}),Object(g.jsx)("a",{href:"#",style:{float:"right",marginTop:"-10px",backgroundColor:"PowderBlue"},children:"Don't have an account?"}),"\n",Object(g.jsx)("p",{className:"text-danger",style:{float:"right",backgroundColor:"PowderBlue"},children:h}),"\n\n",Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("button",{type:"button",className:"btn btn-block create-account",onClick:function(e){u.a.post("http://127.0.0.1:8000/jwt/token/",{username:s,password:o}).then((function(e){localStorage.setItem("jwt",e.data.access),window.location.href="http://127.0.0.1:8000/categories/"})).catch((function(e){401==e.response.status?x("\u0412\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u043b\u0438 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."):400==e.response.status?x("\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438 -_-."):x("".concat(e.response.status," error"))}))},children:"Sign In"})})]})})})})}),U=function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),"\n",e.isAuth?Object(g.jsx)(k,{}):Object(g.jsx)(L,{})]})},q=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(),r=Object(j.a)(n,2),i=r[0],o=r[1],l=Object(a.useState)(),d=Object(j.a)(l,2),b=d[0],h=d[1],x=Object(a.useState)(),m=Object(j.a)(x,2),O=m[0],p=m[1],f=Object(a.useState)({username:null,password:null,password2:null,email:null}),v=Object(j.a)(f,2),N=v[0],y=v[1];return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-10 mx-auto",children:Object(g.jsx)("div",{className:"registration-form",children:Object(g.jsxs)("div",{className:"form",children:[Object(g.jsx)("div",{className:"form-icon",children:Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"icon icon-user"})})}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"text",className:"form-control item",id:"username",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Username"}),Object(g.jsx)("p",{className:"text-danger",style:{float:"left",marginTop:"-10px",backgroundColor:"PowderBlue"},children:N.username})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"password",className:"form-control item",id:"password1",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Password"}),Object(g.jsx)("p",{className:"text-danger",style:{float:"left",marginTop:"-10px",backgroundColor:"PowderBlue"},children:N.password})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"password",className:"form-control item",id:"password2",value:b,onChange:function(e){return h(e.target.value)},placeholder:"Repeat Password"}),Object(g.jsx)("p",{className:"text-danger",style:{float:"left",marginTop:"-10px",backgroundColor:"PowderBlue"},children:N.password2})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("input",{type:"text",className:"form-control item",id:"email",value:O,onChange:function(e){return p(e.target.value)},placeholder:"Email"}),Object(g.jsx)("p",{className:"text-danger",style:{float:"left",marginTop:"-10px",backgroundColor:"PowderBlue"},children:N.email})]}),"\n",Object(g.jsx)("a",{href:"#",style:{float:"right",marginTop:"-5px",backgroundColor:"PowderBlue"},children:"Already have an account?"}),"\n\n",Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("button",{onClick:function(){i!=b&&y({password2:"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c!"}),u.a.post("http://127.0.0.1:8000/api/v1/user/register/",{username:c,password:i,email:O}).then((function(e){window.location.href="http://127.0.0.1:8000/auth/login/"})).catch((function(e){400==e.response.status?y(e.response.data):alert(e.response.status+" error")}))},className:"btn btn-block create-account",children:"Create Account"})})]})})})})},G=function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),e.isAuth?Object(g.jsx)(k,{}):Object(g.jsx)(q,{})]})},J=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c!"}),Object(g.jsxs)("p",{children:["\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c! ",Object(g.jsx)("a",{href:"#",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438"})]})]})},R=function(){var e=Object(m.a)(x.a.mark((function e(t,c){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return a=!1,e.abrupt("return",a);case 3:return e.next=5,u.a.get("http://127.0.0.1:8000/api/v1/user/accept/"+t+"/").then((function(e){a=!0})).catch((function(e){a=!1,404==e.response.status?alert("Token doesnt exists"):alert(e.response.status+" error")}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),H=function(e){var t=e.match.params.token,c=Object(a.useState)(),s=Object(j.a)(c,2),n=s[0],r=s[1];return Object(a.useEffect)((function(){R(t,e.isAuth).then((function(e){r(e)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),n?Object(g.jsx)(J,{}):Object(g.jsx)(k,{})]})},M=s.a.memo(H),Y=Object(i.e)((function(e){e.history;var t=Object(a.useState)(),c=Object(j.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(),o=Object(j.a)(r,2),d=o[0],u=o[1],h=Object(a.useState)([]),x=Object(j.a)(h,2),m=x[0],O=x[1],v=Object(a.useState)(),N=Object(j.a)(v,2);N[0],N[1];return Object(a.useEffect)((function(){p().then((function(e){u(e.info),n(e.isAuth)})),f().then((function(e){O(e)}))}),[]),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{exact:!0,path:"/categories/",component:function(e){return Object(a.createElement)(_,Object(l.a)(Object(l.a)({},e),{},{isAuth:s,userData:d,categories:m,key:Object(b.a)()}))}}),Object(g.jsx)(i.b,{exact:!0,path:"/categories/create/",component:function(e){return Object(g.jsx)(E,Object(l.a)(Object(l.a)({},e),{},{isAuth:s,categories:m}))}}),Object(g.jsx)(i.b,{exact:!0,path:"/categories/c_id/:categoryId/",component:T}),Object(g.jsx)(i.b,{exact:!0,path:"/categories/c_id/:categoryId/:postId/",component:B}),Object(g.jsx)(i.b,{exact:!0,path:"/auth/login/",component:function(e){return Object(a.createElement)(U,Object(l.a)(Object(l.a)({},e),{},{isAuth:s,key:Object(b.a)()}))}}),Object(g.jsx)(i.b,{exact:!0,path:"/auth/sign_up/",component:function(e){return console.log(e),Object(a.createElement)(G,Object(l.a)(Object(l.a)({},e),{},{isAuth:s,key:Object(b.a)()}))}}),Object(g.jsx)(i.b,{exact:!0,path:"/auth/accept/:token/",component:function(e){return Object(g.jsx)(M,Object(l.a)(Object(l.a)({},e),{},{isAuth:s}))}}),Object(g.jsx)(i.a,{from:"/",to:"/categories"})]})})})),K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))},Q=Object(o.a)();r.a.render(Object(g.jsx)(i.c,{history:Q,children:Object(g.jsx)(Y,{})}),document.getElementById("root")),K()}},[[68,1,2]]]);
//# sourceMappingURL=main.c3f251f6.chunk.js.map