{"version":3,"sources":["store/user/actionType.ts","services/service.tsx","services/userService.ts","services/chatService.ts","store/user/actions.ts","components/extend/Header.jsx","components/soc-ui/include/category/Category.jsx","components/soc-ui/include/category/CategoryList.jsx","components/soc-ui/include/welcome_box/WelcomeBox.jsx","components/soc-ui/CategoryPage.jsx","components/extend/Error404NotFound.jsx","components/extend/Error429TooManyRequests.jsx","components/soc-ui/include/post/Post.jsx","components/soc-ui/include/post/PostList.jsx","components/soc-ui/PostPage.jsx","components/soc-ui/include/comment/Comment.jsx","components/soc-ui/include/comment/CommentList.jsx","components/soc-ui/include/comment/CommentForm.jsx","components/soc-ui/PostDetailPage.jsx","components/soc-ui/include/post/CreatePostForm.jsx","components/soc-ui/CreatePostPage.jsx","store/friend/actionTypes.ts","services/friendRequestService.ts","store/friend/actions.ts","components/soc-ui/include/notification/NotificationMenu.tsx","components/soc-ui/include/notification/cell/FriendNotificationCell.tsx","components/soc-ui/include/notification/list/FriendNotificationList.tsx","components/soc-ui/include/notification/tab/FriendNotificationTab.tsx","components/soc-ui/include/notification/cell/ChatNotificationCell.tsx","components/soc-ui/include/notification/list/ChatNotificationList.tsx","components/soc-ui/include/notification/tab/ChatNotificationTab.tsx","components/soc-ui/include/notification/NotificationWindow.tsx","components/soc-ui/NotificationsPage.jsx","components/auth-ui/include/forms/LoginForm.jsx","components/auth-ui/LoginPage.jsx","components/auth-ui/include/forms/SignUpForm.jsx","components/auth-ui/SignUpPage.jsx","components/auth-ui/include/information/AcceptedPasswordAlert.jsx","components/auth-ui/AcceptAccountPage.tsx","components/chat-ui/include/chat/Chat.jsx","components/chat-ui/include/chat/ChatList.jsx","components/chat-ui/include/chat/CreateChatWindow.tsx","components/chat-ui/include/chat/ChatWindow.jsx","services/personalChatService.ts","components/chat-ui/ChatListPage.jsx","components/chat-ui/include/message/Message.jsx","components/chat-ui/include/message/MessageList.jsx","services/messageService.ts","components/chat-ui/include/message/MessageInput.jsx","components/chat-ui/include/chat/ChatHeader.tsx","components/chat-ui/include/user/UserCell.tsx","components/chat-ui/include/user/ChatUserList.tsx","components/chat-ui/include/message/MessageChatWindow.jsx","components/chat-ui/PersonalMessageChatPage.tsx","components/chat-ui/include/setting/SettingMenu.tsx","components/chat-ui/include/tab/InformationTab.tsx","store/chat/actionTypes.ts","components/chat-ui/include/friend/FriendButtonVariants.tsx","store/chat/actions.ts","components/chat-ui/include/friend/Friend.tsx","components/chat-ui/include/friend/FriendList.tsx","components/chat-ui/include/tab/AddFriendTab.tsx","components/chat-ui/include/member/Member.tsx","components/chat-ui/include/member/MemberList.tsx","components/chat-ui/include/tab/MembersTab.tsx","components/chat-ui/include/setting/SettingWindow.tsx","components/chat-ui/services.ts","components/chat-ui/ChatSettingPage.tsx","components/chat-ui/GroupMessageChatPage.jsx","components/profile-ui/include/menu/SwitchMenu.jsx","components/profile-ui/include/button/ButtonVariants.tsx","components/profile-ui/include/cell/CardUserCells.tsx","components/profile-ui/include/cell/InfoUserCell.tsx","components/profile-ui/include/tab/InfoTab.tsx","components/profile-ui/include/tab/SettingTab.jsx","components/profile-ui/UserPage.jsx","components/profile-ui/include/cell/FriendCell.tsx","components/profile-ui/include/friend/FriendList.tsx","components/profile-ui/FriendListUser.tsx","components/chat-ui/include/notifications/Notifications.tsx","components/chat-ui/include/button_row/ButtonRow.tsx","components/chat-ui/include/chat/ChatFilteringInput.tsx","components/chat-ui/GroupChatListPage.tsx","components/chat-ui/PersonalChatListPage.tsx","App.tsx","reportWebVitals.js","store/user/userReducer.ts","store/friend/friendReducer.ts","store/chat/chatReducer.ts","store/index.ts","index.tsx"],"names":["GET_USER_DATA","GET_USER_CHAT_NOTIFICATIONS","ACCEPT_CHAT_NOTIFICATION","DELETE_CHAT_NOTIFICATION","getReadableDateFormat","dateString","Date","toLocaleString","year","month","day","hour","minute","replace","getCurrentUserData","a","data","info","isAuth","axios","get","headers","Authorization","localStorage","getItem","then","response","catch","error","status","alert","getCategories","categories","findUserAndGetData","username","err","getAllUserChatRequests","userId","chatRequestsList","getGroupChats","sortBy","page","getChatMembers","chatId","members","console","getAllChatRequest","chatRequests","getRequest","request","createRequest","post","deleteRequest","delete","statusCode","acceptChatRequest","fromChatId","patch","acceptedRequest","createChat","dataForm","chatData","fetchUserData","dispatch","result","type","payload","Header","props","userData","useSelector","state","user","className","href","style","marginRight","marginTop","id","width","xmlns","viewBox","d","Category","marginLeft","src","avatar","alt","height","name","count","CategoryList","map","category","WelcomeAuthBox","fontSize","align","group_data","role","onClick","e","clear","window","location","WelcomeAnonBox","CategoryPage","useState","setCategories","useEffect","Error404NotFound","Error429TooManyRequests","Post","class","user_data","image","url","textDecoration","title","text","photo","textAlign","display","created_at","PostList","posts","PostPage","setPosts","currentPage","setCurrentPage","fetching","setFetching","setError","categoryId","match","params","log","prevState","finally","document","addEventListener","scrollHandler","removeEventListener","target","documentElement","scrollHeight","scrollTop","innerHeight","Comment","CommentList","comments","comment","CommentForm","content","setContent","rows","spellcheck","placeholder","onChange","value","postId","reload","PostDetailPage","setPost","CreatePostForm","setCategory","setTitle","setPhoto","fetchPost","formData","FormData","append","getPostDataInForm","margin","htmlFor","selected","maxlength","required","accept","event","preventDefault","files","CreatePostPage","GET_FRIEND_REQUEST","GET_FRIEND_REQUESTS","SEND_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","DELETE_FRIEND_REQUEST","REMOVE_FRIEND_REQUEST_FROM_LIST","GET_ALL_FRIENDS","DELETE_USER_FROM_FRIEND_LIST","getFriendRequest","friendRequest","getAllFriendNotifications","notifications","sendFriendRequest","deleteFriendRequest","patchFriendRequest","isAccepted","fetchGettingFriendRequest","detail","fetchDeletingFriendRequest","fetchPatchingFriendRequest","deleteFriendRequestFromList","friendRequestList","newFriendRequestList","filter","from_user","list","fetchGettingAllUserFriends","fetchDeletingUserFromFriendList","NotificationMenu","FriendNotificationCell","fromUserData","notification","useDispatch","handleAcceptFriendRequest","handleDeleteFriendRequest","email","FriendNotificationList","FriendNotificationTab","length","ChatNotificationCell","handleAcceptChatRequestButton","from_chat","handleDeleteChatRequestButton","requestId","to_user","deletedRequestId","ChatNotificationList","chatRequestNotifications","ChatNotificationTab","NotificationsWindow","NotificationsPage","NotificationWindow","LoginForm","setUsername","password","setPassword","float","backgroundColor","setItem","access","LoginPage","SignUpForm","password1","setPassword1","password2","setPassword2","setEmail","errorReg","setErrorReg","SignUpPage","AcceptPasswordAlert","acceptAccount","token","accepted","AcceptAccountPage","setAccepted","AcceptedPasswordAlert","Chat","chat","last_message","type_is_group","interlocutor","substr","ChatList","chats","CreateChatWindow","setName","formErrors","setFormErrors","nameErrorP","getElementById","avatarErrorP","innerHTML","handleCreateChatButton","ChatWindow","groupChats","borderTop","personalChats","getPersonalChats","getPersonalChat","getPersonalChatMessages","pageNumber","messages","getUserChats","personal","group","groupResponse","ChatListPage","setGroupChats","setPersonalChats","update","setUpdate","setInterval","Message","message","currentUserData","color","MessageList","new","createGroupMessage","createPersonalMessage","MessageInput","setMessage","sendMessage","ws","send","JSON","stringify","onKeyPress","key","ChatHeader","enableBackground","version","xmlSpace","xmlnsXlink","UserCell","users","ChatUserList","MessageChatWindow","setMembers","messageRef","useRef","current","scrollIntoView","behavior","block","inline","undefined","onScroll","ref","borderColor","newMessages","PersonalMessageChatPage","interlocutorUsername","setCurrentUserData","setMessages","setChat","setNewMessages","scrollHeights","setScrollHeights","reverse","chatHistory","WebSocket","onopen","onclose","onmessage","addNewMessageInArray","parse","elem","SettingMenu","aria_controls","aria_selected","menu","InformationTab","GET_ALL_CHAT_REQUESTS","GET_ALL_CHAT_MEMBERS","CREATE_REQUEST","DELETE_REQUEST","GET_GROUP_CHAT_LIST","GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES","GET_GROUP_CHAT_LIST_WITH_MESSAGES","GET_CURRENT_USER_CHAT_LIST","ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST","FriendButtonVariants","chatRed","requestList","handleCreateRequestButton","friendData","newRequest","handleDeleteRequestButton","deletingRequestId","find","req","is_accepted","Friend","FriendList","friendListData","friendList","padding","friend","AddFriendTab","Member","member","MemberList","chatMembers","MembersTab","SettingWindow","getChatData","ChatSettingPage","setChatData","fetchGettingAllChatMembers","fetchGettingAllChatRequest","getChatMessages","GroupMessageChatPage","SwitchMenu","ButtonVariants","friends","indexOf","CardUserCells","cells","commentList","position","cell","getCommentList","InfoUserCell","setCommentList","getUserPosts","userPosts","InfoTab","setUserPosts","SettingTab","UserPage","setUser","FriendCell","newFriendList","FriendListUser","GroupChatNotification","ButtonRow","currentUserId","ChatFilteringInput","GroupChatListPage","chatList","setPage","newChats","newLoadedChatList","PersonalChatListPage","withRouter","history","exact","path","component","from","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaultState","defaultRequestState","defaultListState","defaultRequestListState","requestListState","userChatRequestList","defaultChatListState","groupChatsByName","groupChatsByEmptyMessages","groupChatsByLastMessages","groupChatsCurrentUser","rootReducer","combineReducers","action","newRequestListWithAcceptedRequest","newRequestListWithoutDeletedRequest","requestListWithoutDeletedRequest","groupChats1","groupChats2","groupChat","groupChats3","groupChats4","creator","newGroupChatList","store","createStore","applyMiddleware","thunk","createBrowserHistory","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.732e22b5.chunk.js","sourcesContent":["export const GET_USER_DATA = \"GET_USER_DATA\";\nexport const GET_USER_CHAT_NOTIFICATIONS = \"GET_USER_CHAT_NOTIFICATIONS\";\nexport const ACCEPT_CHAT_NOTIFICATION = \"ACCEPT_CHAT_NOTIFICATION\";\nexport const DELETE_CHAT_NOTIFICATION = \"DELETE_CHAT_NOTIFICATION\";\n","import axios from 'axios';\nimport {CategoryI, UserI} from \"../interfaces\";\n\n\nexport interface CurrentUserDataI {\n    info: UserI,\n    isAuth: boolean\n}\n\n\nconst getReadableDateFormat = (dateString: Date): string => {\n    let dateJs = new Date(dateString);\n    let readableDateFormat = dateJs.toLocaleString('ru', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric'\n    })\n\n    return readableDateFormat.replace(\",\", \"\");\n}\n\n\nconst getCurrentUserData = async(): Promise<CurrentUserDataI> => {\n    let data: CurrentUserDataI = {\n        info: null,\n        isAuth: false\n    }\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/user/is_auth/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data = {\n                info: response.data,\n                isAuth: true\n            }\n        })\n        .catch((error) => {\n            data = {\n                info: null,\n                isAuth: false\n            }\n\n            if (error.response.status && error.response.status != 401) {\n                alert(error.response.status + \" error\")\n            }\n        })\n    return data;\n}\n\nconst getCategories = async(): Promise<Array<CategoryI>> => {\n    let categories: Array<CategoryI> = []\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/category/\")\n        .then((response) => {\n            categories = response.data;\n        })\n        .catch((error) => {\n            alert(error.response.status + \" error\")\n        })\n\n    return categories;\n}\n\nconst findUserAndGetData = async(username: string): Promise<UserI | null> => {\n    let data: UserI | null = null;\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/user/find/\" + username + \"/\")\n        .then((response) => {\n            data = response.data\n        })\n        .catch((err) => {\n            data = null\n            if (err.response.status !== 404) {\n                alert(err.response.status + \" error\")\n            }\n        })\n    return data\n}\n\nexport {\n    getReadableDateFormat,\n    getCurrentUserData,\n    getCategories,\n    findUserAndGetData\n};\n","import axios from \"axios\";\nimport {GroupChatRequestI} from \"../interfaces\";\n\n\n\nexport const getAllUserChatRequests = async(userId: number) => {\n    interface ChatRequestListDataI {\n        status: number | null,\n        chatRequestsList: Array<GroupChatRequestI>\n    }\n\n    let data: ChatRequestListDataI = {\n        status: null,\n        chatRequestsList: []\n    }\n\n    try {\n        const response = await axios.get(`http://127.0.0.1:8000/api/v1/user/find/${userId}/chat_request/`, {\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n            }\n        })\n        data.status = response.status\n        data.chatRequestsList = response.data\n    } catch (err) {\n        data.status = err.response.status\n    }\n    return data\n}\n","import axios from \"axios\";\nimport {GroupChatI, GroupChatRequestI} from \"../interfaces\";\n\n\nexport const getGroupChats = async(sortBy: string, page: number) => {\n    try {\n        return await axios.get(`http://127.0.0.1:8000/api/v1/chats?sort_by=${sortBy}&page=${page}`, {\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n            }\n        })\n    } catch (error) {\n        if (error.response.status !== 401) {\n            alert(error.response.status + \" error\")\n        }\n    }\n}\n\nexport const getChatMembers = async(chatId) => {\n    let members = []\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/chats/\" + chatId + \"/members/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            members = response.data\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n\n    return members\n}\n\nexport const getAllChatRequest = async(chatId) => {\n    let chatRequests = []\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/chats/\" + chatId + \"/request/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            chatRequests = response.data\n        })\n        .catch((err) => {\n            console.error(err)\n        })\n\n    return chatRequests\n}\n\nexport const getRequest = async(chatId: number, userId: number): Promise<GroupChatRequestI> => {\n    let request: GroupChatRequestI\n\n    await axios.get(`http://127.0.0.1:8000/api/v1/chats/${chatId}/request/${userId}/`, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            request = response.data\n        })\n        .catch((err) => {\n            console.error(err)\n        })\n\n    return request\n}\n\nexport const createRequest = async(chatId: number, userId: number): Promise<GroupChatRequestI> => {\n    let request: GroupChatRequestI\n\n    await axios.post(`http://127.0.0.1:8000/api/v1/chats/${chatId}/request/${userId}/`, {}, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            request = response.data\n        })\n        .catch((err) => {\n            console.error(err)\n        })\n\n    return request\n}\n\nexport const deleteRequest = async(chatId: number, userId: number): Promise<number> => {\n    let statusCode: number\n\n    await axios.delete(`http://127.0.0.1:8000/api/v1/chats/${chatId}/request/${userId}/`, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            statusCode = response.status\n        })\n        .catch((err) => {\n            console.error(err)\n        })\n\n    return statusCode\n}\n\nexport const acceptChatRequest = async(fromChatId: number): Promise<GroupChatRequestI> => {\n    let acceptedRequest: GroupChatRequestI\n\n    try {\n        const response = await axios.patch(`http://127.0.0.1:8000/api/v1/chats/${fromChatId}/request/`, {}, {\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n            }\n        })\n        acceptedRequest = response.data\n    } catch (err) {\n        console.error(err)\n    }\n\n    return acceptedRequest\n}\n\nexport const createChat = async(dataForm): Promise<GroupChatI> => {\n    let chatData: GroupChatI;\n\n    const headers = {\n        Authorization: 'Bearer ' + localStorage.getItem(\"jwt\"),\n        'Content-Type': 'multipart/form-data'\n    }\n\n    try {\n        const response = await axios.post('http://127.0.0.1:8000/api/v1/chats/', dataForm, {\n            headers: headers\n        })\n        chatData = response.data\n    } catch (err) {\n        console.error(err)\n        return err.response.data\n    }\n\n    return chatData;\n}\n","import {\n    ACCEPT_CHAT_NOTIFICATION,\n    DELETE_CHAT_NOTIFICATION,\n    GET_USER_CHAT_NOTIFICATIONS,\n    GET_USER_DATA\n} from './actionType';\nimport {getCurrentUserData} from '../../services/service'\nimport {getAllUserChatRequests} from \"../../services/userService\";\nimport {acceptChatRequest, deleteRequest, getRequest} from \"../../services/chatService\";\nimport {DELETE_REQUEST} from \"../chat/actionTypes\";\n\n\nexport const fetchUserData = () => {\n    return function(dispatch) {\n        getCurrentUserData()\n            .then((result) => {\n                dispatch({type: GET_USER_DATA, payload: result})\n            })\n    }\n}\n\nexport const fetchGettingAllChatRequestsToUser = (userId: number) => {\n    return async function (dispatch) {\n        const result = await getAllUserChatRequests(userId)\n\n\n        dispatch({\n            type: GET_USER_CHAT_NOTIFICATIONS,\n            payload: {\n                chatRequestNotifications: result.chatRequestsList\n            }\n        })\n    }\n}\n\nexport const fetchAcceptingChatRequest = (fromChatId: number) => {\n    return async function (dispatch) {\n        const result = await acceptChatRequest(fromChatId)\n\n        dispatch({\n            type: ACCEPT_CHAT_NOTIFICATION,\n            payload: {\n                acceptedRequest: result\n            }\n        })\n    }\n}\n\nexport const fetchDeletingChatRequestNotification = (chatId: number, userId: number, requestId: number) => {\n    return function (dispatch) {\n        getRequest(chatId, userId)\n            .then((result) => {\n                deleteRequest(chatId, userId)\n                    .then((status) => {\n                        dispatch({\n                            type: DELETE_CHAT_NOTIFICATION,\n                            payload: {\n                                deletedRequestId: requestId\n                            }\n                        })\n                    })\n            })\n    }\n}\n","import React, { useState, useEffect} from 'react';\nimport { useSelector } from 'react-redux';\n\n\nconst Header = (props) => {\n\n    const userData = useSelector(state => state.user)\n\n    return (\n        <div className=\"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow\">\n            <h3 className=\"my-0 mr-md-auto font-weight-normal\">InTheGame</h3>\n            <nav className=\"my-2 my-md-0 mr-md-3\">\n                <a className=\"p-2 text-dark\" href=\"/categories\">Категорий</a>\n                <a className=\"p-2 text-dark\" href=\"{% url 'show_all_users' %}\">Пользователи</a>\n                <a className=\"p-2 text-dark\" href=\"#\">О нас</a>\n            </nav>\n\n            <div className=\"d-none d-md-block\">\n                <a className=\"btn btn-outline-primary\" href=\"/auth/login/\" style={{marginRight: '5px'}}>Вход</a>\n                <a className=\"btn btn-outline-secondary\" href=\"/auth/sign_up/\">Регистрация</a>\n            </div>\n\n            <div className=\"dropdown d-none d-sm-block d-md-none\" style={{marginRight: \"auto\", marginTop: \"-38px\"}}>\n                <button className=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <svg style={{width: \"21px\"}} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1024 1024\"><path d=\"M511.728 64c108.672 0 223.92 91.534 223.92 159.854v159.92c0 61.552-25.6 179.312-94.256 233.376a63.99 63.99 0 0 0-23.968 57.809c2.624 22.16 16.592 41.312 36.848 50.625l278.496 132.064c2.176.992 26.688 5.104 26.688 39.344l.032 62.464L64 959.504V894.56c0-25.44 19.088-33.425 26.72-36.945l281.023-132.624c20.16-9.248 34.065-28.32 36.769-50.32 2.72-22-6.16-43.84-23.456-57.712-66.48-53.376-97.456-170.704-97.456-233.185v-159.92C287.615 157.007 404.016 64 511.728 64zm0-64.002c-141.312 0-288.127 117.938-288.127 223.857v159.92c0 69.872 31.888 211.248 121.392 283.088l-281.04 132.64S.001 827.999.001 863.471v96.032c0 35.344 28.64 63.968 63.951 63.968h895.552c35.344 0 63.968-28.624 63.968-63.968v-96.032c0-37.6-63.968-63.968-63.968-63.968L681.008 667.439c88.656-69.776 118.656-206.849 118.656-283.665v-159.92c0-105.92-146.64-223.855-287.936-223.855z\"/></svg>\n                </button>\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    {userData.isAuth ?\n                    <div>\n                        <a className=\"dropdown-item\" href=\"#\">Мой профиль</a>\n                        <a className=\"dropdown-item\" href=\"#\">Настройки</a>\n                        <a className=\"dropdown-item\" href=\"#\">Чаты</a>\n                        <a className=\"dropdown-item\" href=\"#\">Выход</a>\n                    </div>\n                    :\n                    <div>\n                        <a className=\"dropdown-item\" href=\"#\">Вход</a>\n                        <a className=\"dropdown-item\" href=\"#\">Регистрация</a>\n                    </div>\n                    }\n                </div>\n            </div>\n\n\t    </div>\n    )\n}\n\nexport default Header;\n","import React from 'react';\n\n\nimport '../../../../App.css';\n\n\nconst Category = (props) => {\n    return (\n        <div className=\"col-11 col-sm-11 col-md-10 col-lg-8 col-xl-8 mx-auto border border-primary\">\n            <a href={\"/categories/c_id/\" + props.id} className=\"list-group-item list-group-item-action border-0\">\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img src={props.avatar} className=\"rounded-circle mr-1\" alt=\"user1\" width=\"65\" height=\"65\" style={{marginLeft: \"-10px\"}}/>\n                    <div className=\"flex-grow-1 ml-3\">\n                        <p className=\"category-name\">{props.name}</p>\n                        <div className=\"small\">\n                            Всего постов: { props.count }\n                        </div>\n                    </div>\n                </div>\n            </a>\n        </div>\n    )\n}\n\nexport default Category;\n","import React from 'react';\nimport Category from './Category';\n\n\nconst CategoryList = (props) => {\n    return (\n        <div className=\"container-fluid\">\n            {props.categories.map((category) => (\n                <div className=\"row\" style={{marginTop: \"25px\"}}>\n                    <Category\n                        id={category.id}\n                        name={category.name}\n                        avatar={category.avatar}\n                        count={category.count}\n                        key={category.id}\n                     />\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default CategoryList;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\n\nimport '../../../../App.css';\n\n\nconst WelcomeAuthBox = (props) => {\n\n    const userData = useSelector(state => state.user)\n\n\n    const handleExitButton = (e) => {\n        localStorage.clear()\n        window.location.href = 'http://127.0.0.1:8000/auth/login/';\n    }\n\n    if (userData) {\n        return (\n            <div className=\"container\">\n                <div className=\"jumbotron\">\n                    <h1>Здраствуйте!</h1>\n                    <p className=\"lead\" style={{fontSize:\"18pt\"}}>\n                        { userData.info.username }, добро пожаловать в InTheGame. <a href={\"/users/\" + userData.info.username}>Перейти в ваш профиль?</a>\n                        <h2 align=\"center\" style={{fontSize:\"20pt\"}}>Статус аккаунта: { userData.info.group_data.name }</h2>\n                    </p>\n                    <hr/>\n                    <div className=\"container-fluid\">\n                        <div className=\"row\">\n                            <a className=\"btn btn-lg btn-primary btn-block\" href={\"/users/\" + userData.info.username} role=\"button\">Перейти в профиль</a>\n                            <a className=\"btn btn-lg btn-secondary btn-block\" href=\"/notifications/\">Уведомления</a>\n                            <a className=\"btn btn-lg btn-success btn-block\" href=\"/categories/create/\" role=\"button\">Добавить пост</a>\n                            <a className=\"btn btn-lg btn-warning btn-block\" href=\"/chats/\" role=\"button\">Чаты</a>\n                            <button className=\"btn btn-lg btn-danger btn-block\" onClick={handleExitButton}>Выйти</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (<div></div>)\n    }\n}\n\nconst WelcomeAnonBox = () => {\n    return (\n        <div className=\"container\">\n            <div className=\"jumbotron\">\n                <h1 style={{fontSize:\"23pt\"}}>Внимание!</h1>\n                <hr/>\n                <h2 style={{fontSize:\"20pt\"}}>Вы не вошли в свой аккаунт, <a href=\"/auth/login/\">хотите войти?</a></h2>\n            </div>\n        </div>\n    )\n}\n\nexport { WelcomeAuthBox, WelcomeAnonBox }\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Header from '../extend/Header';\nimport CategoryList from './include/category/CategoryList';\nimport { WelcomeAuthBox, WelcomeAnonBox } from './include/welcome_box/WelcomeBox';\n\nimport { getCategories } from '../../services/service';\n\n\nconst CategoryPage = (props) => {\n    const [categories, setCategories] = useState([])\n\n    const userData = useSelector(state => state.user)\n\n    useEffect(() => {\n        getCategories()\n            .then((result) => {\n                setCategories(result)\n            })\n    }, [])\n\n    if (userData.isAuth) {\n        return (\n            <div>\n                <Header/>{\"\\n\"}\n                <WelcomeAuthBox/>{\"\\n\\n\"}\n                <CategoryList categories={categories}/>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>{\"\\n\"}\n                <WelcomeAnonBox/>{\"\\n\\n\"}\n                <CategoryList categories={categories}/>\n            </div>\n        )\n    }\n}\n\nexport default CategoryPage;\n","import React from 'react';\n\n\n\nconst Error404NotFound = () => {\n    return (\n        <section id=\"wrapper\" className=\"container-fluid\">\n            <div className=\"error-box\">\n                <div className=\"error-body text-center\">\n                    <h1 className=\"text-danger\" style={{fontSize: \"100px\"}}>404</h1>\n                    <h3>Page Not Found !</h3>\n                    <p className=\"text-muted m-t-30 m-b-30\">Возможно вы просто опечатались или вам скинули неправильную ссылку... :)</p>\n                    <a href=\"/categories/\" className=\"btn btn-danger btn-rounded m-b-40\">На главную</a>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Error404NotFound;\n\n","import React from 'react';\n\n\nconst Error429TooManyRequests = () => {\n    return (\n        <div>\n            <h2 style={{marginLeft: \"15px\"}}>429 Too many requests.</h2>\n        </div>\n    )\n}\n\nexport default Error429TooManyRequests;\n","import React, { useState, useEffect } from 'react';\n\n\nimport '../../../../App.css';\nimport { getReadableDateFormat } from '../../../../services/service';\n\nconst Post = (props) => {\n    return (\n\t\t<div className=\"card border-secondary\">\n\t\t\t<div className=\"card-header bg-secondary text-white\">\n\t\t\t    <div class=\"d-flex align-items-center py-1\">\n\t\t\t        <div class=\"position-relative\">\n\t\t\t\t        <img src={props.user_data.avatar.image} className=\"rounded-circle float-left\" alt=\"avatar\" width=\"57\" height=\"57\" style={{marginTop: \"-10px\"}}/>\n\t\t            </div>\n\t\t            <div class=\"flex-grow-1 pl-3\">\n                        <a href={\"/users/\" + props.user_data.username} className=\"text-white\" style={{fontSize: \"15pt\"}}>{props.user_data.username}</a>\n                        <p className=\"text-info\" style={{fontSize: \"12pt\"}}>{props.user_data.group_data.name}</p>\n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<a href={props.url} className=\"text-dark\" style={{textDecoration: \"none\"}}>\n\t\t\t\t\t<h4>{props.title}</h4>\n\t\t\t\t\t{props.text}\n\t\t\t\t\t{props.photo ?\n                        <div>\n\t\t\t\t\t        {\"\\n\"}\n\t\t\t\t\t        <p style={{textAlign: \"center\"}}><img className=\"img-fluid\" src={props.photo} alt={props.photo}/></p>\n\t\t\t\t\t    </div>\n\t\t\t\t\t:\n\t\t\t\t\tnull}\n\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<div className=\"card-footer\" style={{display: \"flex\"}}>{getReadableDateFormat(props.created_at)}</div>\n\t\t</div>\n    )\n}\n\nexport default Post;\n","import React from 'react';\n\nimport '../../../../App.css';\n\nimport Post from './Post';\n\n\nconst PostList = (props) => {\n    return (\n        <div className=\"posts\">\n            {props.posts.map((post) => (\n                <div class=\"container\">\n                    <Post\n                        id={post.id}\n                        title={post.title}\n                        text={post.text}\n                        created_at={post.created_at}\n                        user_data={post.user_data}\n                        photo={post.photo}\n                        url={\"/categories/c_id/\" + post.category + \"/\" + post.id + \"/\"}\n                     />\n                    {\"\\n\\n\\n\"}\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default PostList;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport Error429TooManyRequests from '../extend/Error429TooManyRequests';\n\nimport Post from './include/post/Post';\nimport PostList from './include/post/PostList';\n\n\nconst PostPage = (props) => {\n    const [posts, setPosts] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [fetching, setFetching] = useState(true)\n    const [error, setError] = useState(null);\n\n    let categoryId = props.match.params.categoryId;\n\n    useEffect(() => {\n        if (fetching && currentPage != -1) {\n            console.log(\"fetching\")\n            axios.get(\"http://127.0.0.1:8000/api/v1/category/\" + categoryId + \"/?page_number=\" + currentPage)\n                .then(response => {\n                    setPosts([...posts, ...response.data]);\n                    if (response.status === 204) {\n                        setCurrentPage(-1)\n                    } else {\n                        setCurrentPage(prevState => prevState + 1)\n                    }\n                })\n                .catch(err => {\n                    console.log(err.response);\n                    if (err.response.status) {\n                        setError(\n                        {\n                            response: err.response.status\n                        });\n                    }\n                })\n                .finally(() => {\n                    setFetching(false)\n                })\n        }\n    }, [fetching])\n\n    useEffect(() => {\n        document.addEventListener('scroll', scrollHandler)\n        return function () {\n            document.removeEventListener('scroll', scrollHandler)\n        }\n    }, [])\n\n    const scrollHandler = (e) => {\n        if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100 &&\n            currentPage !== -1\n        ) {\n            setFetching(true)\n        }\n    }\n\n    if (!error) {\n        return (\n            <div>\n                <Header/>\n                {\"\\n\\n\"}\n                <PostList\n                    posts={posts}\n                    categoryId={categoryId}\n                 />\n            </div>\n        )\n    } else if (error.response === 404) {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound style={{marginTop: \"25px\"}}/>\n            </div>\n        )\n    } else if (error.response === 429) {\n        return (\n            <div>\n                <Header/>\n                {\"\\n\"}\n                <Error429TooManyRequests/>\n            </div>\n        )\n    } else {\n        alert(error.response)\n        return (\n            <div>\n            </div>\n        )\n    }\n}\n\nexport default PostPage;\n","import React, { useState, useEffect } from 'react';\n\nimport axios from 'axios';\n\nimport '../../../../App.css';\nimport { getReadableDateFormat } from '../../../../services/service';\n\n\nconst Comment = (props) => {\n    return (\n        <div>\n            <div className=\"card border-secondary\">\n                <div className=\"card-header bg-secondary text-white\">\n                    <div class=\"d-flex align-items-center py-1\">\n                        <div class=\"position-relative\">\n                            <img src={props.user_data.avatar.image} alt=\"avatar\" style={{marginTop: \"-10px\"}} className=\"rounded-circle float-left\" width=\"48\" height=\"48\"/>\n                        </div>\n                            <div class=\"flex-grow-1 pl-3\">\n                                <a href={\"/users/\" + props.user_data.username} className=\"text-white\" style={{fontSize: \"13pt\"}}>{props.user_data.username}</a>{\"\\n\"}\n                                <p className=\"text-info\" style={{fontSize: \"10pt\"}}>{props.user_data.group_data.name}</p>\n                            </div>\n                    </div>\n                </div>\n\n                <div className=\"card-body\">\n                    {props.text}\n                </div>\n                <div className=\"card-footer\">{getReadableDateFormat(props.created_at)}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default Comment;\n","import React from 'react';\n\nimport Comment from './Comment';\nimport '../../../../App.css';\n\n\nconst CommentList = (props) => {\n    return(\n        <div className=\"container\">\n            {props.comments.map(comment => (\n                <div>\n                    <Comment\n                        id={comment.id}\n                        text={comment.text}\n                        created_at={comment.created_at}\n                        user_data={comment.user_data}\n                     />\n                     {\"\\n\"}\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default CommentList;\n","import React, { useState } from 'react';\nimport axios from 'axios';\n\n\nimport '../../../../App.css';\n\n\nconst CommentForm = (props) => {\n    const [content, setContent] = useState()\n    const [error, setError] = useState(null)\n\n    const createComment = () => {\n        axios.post(\"http://127.0.0.1:8000/api/v1/post/\" + props.postId + \"/comment/\", {\n                text: content\n            },\n            {\n                headers: {\n                    Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n                }\n            })\n            .then((response) => {\n                window.location.reload()\n            })\n            .catch((error) => {\n                if (error.response.status == 401) {\n                    window.location.href = 'http://127.0.0.1:8000/auth/login/'\n                } else if (error.response.status == 400) {\n                    setError(\"Комментарий не может быть пустым!\")\n                } else {\n                    alert(error.response.status + \" error\")\n                }\n            })\n    }\n    \n    return (\n        <div>\n            <div className=\"form-group\">\n                <textarea\n                    id=\"id_text\"\n                    name=\"text\"\n                    rows=\"5\"\n                    className=\"form-control\"\n                    spellcheck=\"false\"\n                    placeholder=\"Добавить комментарий...\"\n                    onChange={e => setContent(e.target.value)}\n                 >\n                    {content}\n                </textarea>\n                <p className=\"form-text text-muted\" style={{fontSize: \"10pt\"}}>Пожалуйста, уважайте своих собеседников!</p>\n            </div>\n            <p className=\"text-danger\">{error}</p>\n            <div className=\"form-group row\">\n                <div className=\"col-sm-10\">\n                    <button\n                        onClick={createComment}\n                        className=\"btn btn-primary\"\n                     >\n                        Добавить\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CommentForm;","import React, { useState, useEffect} from 'react';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport Error429TooManyRequests from '../extend/Error429TooManyRequests';\n\nimport Post from './include/post/Post';\nimport CommentList from './include/comment/CommentList';\nimport CommentForm from './include/comment/CommentForm';\n\n\nconst PostDetailPage = (props) => {\n    const categoryId = props.match.params.categoryId;\n    const postId = props.match.params.postId;\n\n    const [post, setPost] = useState(null);\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        axios.get(\"http://127.0.0.1:8000/api/v1/post/\" + postId + \"/\")\n            .then(response => {\n                setPost(response.data);\n            })\n            .catch(err => {\n                if (err.response.status) {\n                    setError(\n                    {\n                        response: err.response.status\n                    });\n                }\n            })\n    }, []);\n\n    if (error.response == 404) {\n        return (\n            <div>\n                <Header/>\n                {\"\\n\"}\n                <Error404NotFound/>\n            </div>\n        )\n    } else if (error.response == 429) {\n        return (\n            <div>\n                <Header/>\n                {\"\\n\"}\n                <Error429TooManyRequests/>\n            </div>\n        )\n    } else if (!error && post) {\n        return (\n            <div>\n                <Header/>\n                {\"\\n\"}\n                <div class=\"container\">\n                    <Post\n                        id={post.id}\n                        title={post.title}\n                        text={post.text}\n                        created_at={post.created_at}\n                        user_data={post.user_data}\n                        photo={post.photo}\n                        url=\"#\"\n                     />\n                     {\"\\n\\n\\n\"}\n                    <CommentForm postId={postId} categoryId={categoryId}/>\n                </div>\n                {\"\\n\\n\\n\"}\n                <div className=\"comments\">\n                    <CommentList comments={post.comments}/>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div></div>\n        )\n    }\n}\n\nexport default PostDetailPage;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\nconst CreatePostForm = (props) => {\n    const [category, setCategory] = useState()\n    const [title, setTitle] = useState()\n    const [content, setContent] = useState()\n    const [photo, setPhoto] = useState(null)\n\n    const [error, setError] = useState({\n        title: null,\n        text: null,\n        category: null\n    })\n\n    const changePhoto = (event) => {\n        event.preventDefault()\n        if (event.target.files[0]) {\n            setPhoto(event.target.files[0])\n        }\n    }\n\n    const getPostDataInForm = (title, content, category, photo) => {\n        let formData = new FormData()\n        formData.append(\"title\", title)\n        formData.append(\"text\", content)\n        formData.append(\"category\", category)\n        if (photo != null) {\n            formData.append(\"photo\", photo)\n        }\n        return formData\n    }\n\n    const fetchPost = (title, content, category, photo) => {\n        let dataForm = getPostDataInForm(title, content, category, photo)\n        axios.post(\"http://127.0.0.1:8000/api/v1/category/\" + category + \"/\", dataForm,\n            {\n                headers: {\n                    Authorization: 'Bearer ' + localStorage.getItem(\"jwt\"),\n                    'Content-Type': 'multipart/form-data'\n                }\n            }\n        )\n            .then((result) => {\n                window.location.href = 'http://127.0.0.1:8000/categories/c_id/' + category + \"/\";\n            })\n            .catch((error) => {\n                if (error.response.status == 400) {\n                    setError(error.response.data)\n                }\n            })\n    }\n\n\n    const createPost = () => {\n        if (!category || category === \"Выбери категорию\") {\n            alert(\"Вы не указали категорию. Куда добавлять пост? -_-\")\n            return\n        }\n        if (!title || !content) {\n            setError({\n                title: title,\n                text: content\n            })\n            return\n        }\n        fetchPost(title, content, category, photo)\n\n    }\n\n\n    return (\n        <div className=\"container\">\n            <h2 style={{margin: \"0 35%\", fontSize:\"35px\"}}>Добавить пост</h2>{\"\\n\\n\"}\n\n            <label htmlFor=\"select-category\">Категория</label>{\"\\n\"}\n            <select className=\"browser-default custom-select\" id=\"select-category\" onChange={e => setCategory(e.target.value)}>\n                <option value={null} selected>Выбери категорию</option>\n                {props.categories.map((category) => (\n                    <option value={category.id}>{category.name}</option>\n                ))}\n            </select>\n            <p className=\"text-danger\" style={{marginTop: \"-15px\"}}>{error.category}</p>\n    \n            <div className=\"form-group\" style={{marginTop: \"100px\"}}>\n                <label htmlFor=\"id_title\">Заголовок</label>{\"\\n\"}\n                <input\n                    type=\"text\"\n                    name=\"title\"\n                    maxlength=\"199\"\n                    id=\"id_title\"\n                    className=\"form-control\"\n                    value={title}\n                    onChange={e => setTitle(e.target.value)}\n                    placeholder=\"У меня есть мечта...\"\n                 />\n                <p className=\"form-text text-muted\" style={{fontSize:\"10pt\"}}>Опишите основной смысл поста в двух словах.</p>\n                {error.title\n                ?\n                    <p className=\"text-danger\" style={{marginTop: \"-15px\"}}>Заголовок не может быть пустым</p>\n                :\n                    <p></p>\n                }\n            </div>\n            {\"\\n\"}\n            <div className=\"form-group\">\n                <label htmlFor=\"id_text\">Контент</label>{\"\\n\"}\n                <textarea\n                    name=\"text\"\n                    rows=\"10\"\n                    required=\"\"\n                    id=\"id_text\"\n                    className=\"form-control\"\n                    spellcheck=\"false\"\n                    onChange={e => setContent(e.target.value)}\n                    placeholder=\"Мечта - особый вид воображения, представляющий собой самостоятельное создание новых образов, направленный на будущее и выражающий желания человека.\">\n                {content}\n                </textarea>\n                <p className=\"form-text text-muted\" style={{fontSize: \"10pt\"}}>А теперь полностью излейте свою душу.</p>\n                {error.text\n                ?\n                    <p className=\"text-danger\" style={{marginTop: \"-15px\"}}>Содержимое не может быть пустым</p>\n                :\n                    <p></p>\n                }\n            </div>\n            {\"\\n\"}\n            <div className=\"input-group mb-3\">\n                <div className=\"custom-file\">\n                    <div className=\"custom-file\">\n                        <label htmlFor=\"id_image\" className=\"custom-file-label\">Выберите файл</label>\n                        <input\n                            type=\"file\"\n                            className=\"custom-file-input\"\n                            id=\"id_image\"\n                            accept=\".png, .jpg, .jpeg\"\n                            name=\"image\"\n                            onChange={changePhoto}\n                         />\n                    </div>\n                    <div className=\"input-group-append\">\n                        <span className=\"input-group-text\" id=\"\">Upload</span>\n                    </div>\n                </div>\n            </div>\n            <p className=\"form-text text-muted\" style={{fontSize: \"10pt\"}}>И наконец-то продемонстрируйте это на фотографий!</p>\n            {\"\\n\"}\n            <div className=\"form-group row\">\n                <div className=\"col-sm-10\">\n                    <button onClick={createPost} className=\"btn btn-primary\">Добавить</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CreatePostForm;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { getCategories } from '../../services/service';\n\nimport CreatePostForm from './include/post/CreatePostForm';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\n\n\nconst CreatePostPage = (props) => {\n    const [categories, setCategories] = useState([])\n\n\n    const userData = useSelector(state => state.user)\n\n\n    useEffect(() => {\n        getCategories()\n            .then((result) => {\n                setCategories(result)\n            })\n    }, [])\n\n    if (userData.isAuth) {\n        return (\n            <div>\n                <Header/>{\"\\n\"}\n                <CreatePostForm categories={categories} />\n            </div>\n        )\n    } else if (!userData.isAuth) {\n        return (\n            <div>\n                <Header/>\n                {\"\\n\"}\n                <Error404NotFound/>\n            </div>\n        )\n    } else {\n        return (\n            <div></div>\n        )\n    }\n}\n\nexport default CreatePostPage;\n","export const GET_FRIEND_REQUEST = \"GET_FRIEND_REQUEST\";\nexport const GET_FRIEND_REQUESTS = \"GET_FRIEND_REQUESTS\";\nexport const SEND_FRIEND_REQUEST = \"SEND_FRIEND_REQUEST\";\nexport const ACCEPT_FRIEND_REQUEST = \"ACCEPT_FRIEND_REQUEST\";\nexport const DELETE_FRIEND_REQUEST = \"DELETE_FRIEND_REQUEST\";\nexport const REMOVE_FRIEND_REQUEST_FROM_LIST = \"REMOVE_FRIEND_REQUEST_FROM_LIST\";\nexport const GET_ALL_FRIENDS = \"GET_ALL_FRIENDS\";\nexport const DELETE_USER_FROM_FRIEND_LIST = \"DELETE_USER_FROM_FRIEND_LIST\";\n","import axios from 'axios';\nimport {FriendRequestI} from \"../interfaces\";\n\n\ninterface FriendRequestDataI {\n    friendRequest?: FriendRequestI | null,\n    error: number | null\n}\n\ninterface FriendNotificationDataI {\n    notifications: Array<FriendRequestI> | null,\n    error: number | null\n}\n\nconst getFriendRequest = async(userId: number): Promise<FriendRequestDataI> => {\n    let data: FriendRequestDataI = {\n        friendRequest: null,\n        error: null\n    }\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/user/find/\" + userId + \"/friend_request/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.friendRequest = response.data\n        })\n        .catch((err) => {\n            data.error = err.response.status\n        })\n\n    return data\n}\n\nconst getAllFriendNotifications = async(userId: number): Promise<FriendNotificationDataI> => {\n    let data: FriendNotificationDataI = {\n        notifications: null,\n        error: null\n    }\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/user/find/\" + userId + \"/request-notifications/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.notifications = response.data\n        })\n        .catch((error) => {\n            data.error = error.response.status\n        })\n\n    return data\n}\n\n\nconst sendFriendRequest = async(userId: number): Promise<FriendRequestDataI> => {\n    let data: FriendRequestDataI = {\n        friendRequest: null,\n        error: null\n    }\n\n    await axios.post(\"http://127.0.0.1:8000/api/v1/user/find/\" + userId + \"/friend_request/\", {}, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.friendRequest = response.data\n        })\n        .catch((err) => {\n            data.error = err.response.status\n        })\n\n    return data;\n}\n\nconst deleteFriendRequest = async(userId: number): Promise<number | undefined> => {\n    let statusCode: number | undefined;\n\n    await axios.delete(\"http://127.0.0.1:8000/api/v1/user/find/\" + userId + \"/friend_request/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            statusCode = response.status\n        })\n        .catch((error) => {\n            statusCode = error.response.status\n        })\n\n    return statusCode\n}\n\nconst patchFriendRequest = async(userId: number, isAccepted: number): Promise<FriendRequestDataI> => {\n    let data: FriendRequestDataI = {\n        friendRequest: null,\n        error: null\n    };\n\n    await axios.patch(\"http://127.0.0.1:8000/api/v1/user/find/\" + userId + \"/friend_request/?is_accepted=\" + isAccepted, {}, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.friendRequest = response.data\n        })\n        .catch((error) => {\n            data.error = error.response.status\n        })\n\n    return data;\n}\n\n\nexport {\n    getFriendRequest,\n    getAllFriendNotifications,\n    sendFriendRequest,\n    deleteFriendRequest,\n    patchFriendRequest\n}\n","import {\n    GET_FRIEND_REQUEST,\n    GET_FRIEND_REQUESTS,\n    REMOVE_FRIEND_REQUEST_FROM_LIST,\n    SEND_FRIEND_REQUEST,\n    ACCEPT_FRIEND_REQUEST,\n    DELETE_FRIEND_REQUEST, GET_ALL_FRIENDS, DELETE_USER_FROM_FRIEND_LIST\n} from './actionTypes';\n\nimport {\n    getFriendRequest,\n    getAllFriendNotifications,\n    sendFriendRequest,\n    deleteFriendRequest,\n    patchFriendRequest\n} from '../../services/friendRequestService';\nimport axios from \"axios\";\nimport {UserI} from \"../../interfaces\";\n\n\nexport const fetchGettingFriendRequest = (userId: number) => {\n    //action to get one friend request.\n    return function(dispatch) {\n        getFriendRequest(userId)\n            .then((result) => {\n                dispatch({\n                    type: GET_FRIEND_REQUEST,\n                    payload: {\n                        detail: result.friendRequest\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchGettingAllFriendRequests = (userId: number) => {\n    //action to get all friend requests by user id.\n    return function(dispatch) {\n        getAllFriendNotifications(userId)\n            .then((result) => {\n                dispatch({\n                    type: GET_FRIEND_REQUESTS,\n                    payload: {\n                        list: result.notifications\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchSendingFriendRequest = (userId: number) => {\n    return function(dispatch) {\n        sendFriendRequest(userId)\n            .then((result) => {\n                dispatch({\n                    type: SEND_FRIEND_REQUEST,\n                    payload: {\n                        detail: result.friendRequest\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchDeletingFriendRequest = (userId: number) => {\n    return function(dispatch) {\n        deleteFriendRequest(userId)\n            .then((result) => {\n                dispatch({\n                    type: DELETE_FRIEND_REQUEST,\n                    payload: {\n                        statusCode: result\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchPatchingFriendRequest = (userId: number, isAccepted: number) => {\n    return function(dispatch) {\n        patchFriendRequest(userId, isAccepted)\n            .then((result) => {\n                dispatch({\n                    type: ACCEPT_FRIEND_REQUEST,\n                    payload: {\n                        detail: result.friendRequest\n                    }\n                })\n            })\n    }\n}\n\nexport const deleteFriendRequestFromList = (friendRequestList: Array<any>, userId: number) => {\n    return function (dispatch) {\n        let newFriendRequestList = friendRequestList.filter(friendRequest => friendRequest.from_user.id !== userId)\n        dispatch({\n            type: REMOVE_FRIEND_REQUEST_FROM_LIST,\n            payload: {\n                list: newFriendRequestList\n            }\n        })\n    }\n}\n\nexport const fetchGettingAllUserFriends = (userId: number) => {\n    return function (dispatch) {\n        axios.get(\"http://127.0.0.1:8000/api/v1/user/find/\" + userId + \"/friends/\")\n            .then((response) => {\n                dispatch({\n                    type: GET_ALL_FRIENDS,\n                    payload: {\n                        list: response.data,\n                        statusCode: response.status\n                    }\n                })\n            })\n            .catch((error) => {\n                dispatch({\n                    type: GET_ALL_FRIENDS,\n                    payload: {\n                        list: [],\n                        statusCode: error.response.status\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchDeletingUserFromFriendList = (userId: number) => {\n    return function(dispatch) {\n        deleteFriendRequest(userId)\n            .then((result) => {\n                dispatch({\n                    type: DELETE_USER_FROM_FRIEND_LIST,\n                    payload: {\n                        statusCode: result\n                    }\n                })\n            })\n    }\n}\n\nexport const deleteUserFromFriendList = (friendList: Array<UserI>, userId: number) => {\n    return function (dispatch) {\n        let newFriendList = friendList.filter(friend => friend.id !== userId)\n        dispatch({\n            type: DELETE_USER_FROM_FRIEND_LIST,\n            payload: {\n                list: newFriendList\n            }\n        })\n    }\n}\n","import React from 'react';\n\n\nconst NotificationMenu = (props: any) => {\n    return (\n        <div>\n            <nav>\n                <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n                    <a\n                        className=\"nav-item nav-link active\"\n                        id=\"nav-home-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#friends\"\n                        role=\"tab\"\n                        aria-controls=\"nav-home\"\n                        aria-selected=\"true\">\n                        Друзья\n                    </a>\n                    <a\n                        className=\"nav-item nav-link\"\n                        id=\"nav-profile-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#chats\"\n                        role=\"tab\"\n                        aria-controls=\"nav-profile\"\n                        aria-selected=\"false\">\n                        Чаты\n                    </a>\n                </div>\n            </nav>\n        </div>\n    )\n}\n\nexport default NotificationMenu;\n","import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\n\nimport {\n    fetchDeletingFriendRequest,\n    fetchPatchingFriendRequest,\n    deleteFriendRequestFromList\n} from '../../../../../store/friend/actions';\n\n\nconst FriendNotificationCell = (props: any) => {\n    const fromUserData = props.notification.from_user;\n    const dispatch = useDispatch()\n    const friendRequest = useSelector((state: any) => state.friendRequest)\n\n    const handleAcceptFriendRequest = () => {\n        dispatch(fetchPatchingFriendRequest(fromUserData.id, 1))\n        dispatch(deleteFriendRequestFromList(friendRequest.list, fromUserData.id))\n    }\n\n    const handleDeleteFriendRequest = () => {\n        dispatch(fetchDeletingFriendRequest(fromUserData.id))\n        dispatch(deleteFriendRequestFromList(friendRequest.list, fromUserData.id))\n    }\n\n    return (\n        <div className=\"card col-9 my-3 mx-auto border border-primary\">\n            <div className=\"list-group-item list-group-item-action border-0\">\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img\n                        src={fromUserData.avatar.image}\n                        className=\"rounded-circle mr-1\"\n                        alt=\"lol\"\n                        width=\"60\"\n                        height=\"60\"\n                        style={{marginLeft: \"-10px\"}}\n                    />\n                    <div className=\"flex-grow-1 ml-3\">\n                        <a href={\"/users/\" + fromUserData.username + \"/\"}>\n                            <p style={{fontSize: \"14pt\"}}>{fromUserData.username}</p>\n                        </a>\n                        <div className=\"small\" style={{marginTop: \"-15px\"}}>\n                            <p className=\"text-info\">{fromUserData.group_data.name}</p>\n                            <u>Почта: </u>{\" \" + fromUserData.email}\n                        </div>\n                    </div>\n                    <div className=\"d-none d-lg-block\" style={{marginLeft: \"auto\"}}>\n                        <button className=\"btn btn-primary\" onClick={handleAcceptFriendRequest}>\n                            Принять\n                        </button>\n                        <button className=\"btn btn-warning\" style={{marginLeft: \"10px\"}} onClick={handleDeleteFriendRequest}>\n                            Отклонить\n                        </button>\n                    </div>\n                    <div className=\"d-none d-sm-block d-lg-none\" style={{marginLeft: \"auto\"}}>\n                        <button className=\"btn btn-primary\" style={{width: \"100%\"}} onClick={handleAcceptFriendRequest}>\n                            Принять\n                        </button>\n                        <button className=\"btn btn-warning\" style={{width: \"100%\"}} onClick={handleDeleteFriendRequest}>\n                            Отклонить\n                        </button>\n                    </div>\n                </div>\n                <div className=\"d-none d-block d-sm-none\" style={{marginTop: \"10px\"}}>\n                    <div style={{textAlign: \"center\"}}>\n                        <button className=\"btn btn-primary\" style={{width: \"75%\"}} onClick={handleAcceptFriendRequest}>\n                            Принять\n                        </button>\n                        <button className=\"btn btn-warning\" style={{width: \"75%\"}} onClick={handleDeleteFriendRequest}>\n                            Отклонить\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default FriendNotificationCell;\n","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport FriendNotificationCell from \"../cell/FriendNotificationCell\";\n\nconst FriendNotificationList = (props) => {\n    const friendRequest = useSelector((state: any) => state.friendRequest)\n\n    return (\n        <div>\n            {friendRequest.list.map((notification) => (\n                <FriendNotificationCell notification={notification}/>\n            ))}\n        </div>\n    );\n};\n\nexport default FriendNotificationList;","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n\nimport NotificationList from '../list/ChatNotificationList';\nimport FriendNotificationList from \"../list/FriendNotificationList\";\n\n\n\nconst FriendNotificationTab = (props: any) => {\n    const friendRequest = useSelector((state: any) => state.friendRequest)\n\n    if (friendRequest && friendRequest.list && friendRequest.list.length > 0) {\n        return (\n            <div className=\"tab-pane fade show active\" id=\"friends\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                <FriendNotificationList/>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"tab-pane fade show active\" id=\"friends\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                There are not notifications for you. :( you are alone.\n            </div>\n        )\n    }\n}\n\nexport default FriendNotificationTab;\n","import React from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {fetchAcceptingChatRequest, fetchDeletingChatRequestNotification} from \"../../../../../store/user/actions\";\nimport {fetchDeletingRequest} from \"../../../../../store/chat/actions\";\nimport {DELETE_CHAT_NOTIFICATION} from \"../../../../../store/user/actionType\";\n\n\nconst ChatNotificationCell = (props: any) => {\n    const dispatch = useDispatch()\n\n    const handleAcceptChatRequestButton = () => {\n        dispatch(fetchAcceptingChatRequest(props.notification.from_chat.id))\n    }\n\n    const handleDeleteChatRequestButton = () => {\n        dispatch(fetchDeletingChatRequestNotification(props.notification.from_chat.id, props.notification.to_user.id, props.notification.id))\n        //dispatch(fetchDeletingRequest(props.notification.from_chat.id, props.notification.to_user.id))\n    }\n\n    return (\n        <div className=\"card col-9 my-3 mx-auto border border-primary\">\n            <a\n                href=\"#\"\n                className=\"list-group-item list-group-item-action border-0\"\n            >\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img\n                        src={props.notification.from_chat.avatar}\n                        className=\"rounded-circle mr-1\"\n                        alt=\"lol\"\n                        width=\"60\"\n                        height=\"60\"\n                        style={{marginLeft: \"-10px\"}}\n                     />\n                    <div className=\"flex-grow-1 ml-3\">\n                       <p style={{fontSize: \"14pt\"}}>{props.notification.from_chat.name}</p>\n                       <div className=\"small\" style={{marginTop: \"-15px\"}}>\n                           <p className=\"text-info\">pass</p>\n                           pass\n                       </div>\n                    </div>\n                    <div className=\"d-none d-lg-block\" style={{marginLeft: \"auto\"}}>\n                        <button className=\"btn btn-primary\" onClick={() => handleAcceptChatRequestButton()}>\n                            Вступить\n                        </button>\n                        <button className=\"btn btn-danger\" style={{marginLeft: \"10px\"}} onClick={() => handleDeleteChatRequestButton()}>\n                            Отклонить\n                        </button>\n                    </div>\n                    <div className=\"d-none d-sm-block d-lg-none\" style={{marginLeft: \"auto\"}}>\n                        <button className=\"btn btn-primary\" style={{width: \"100%\"}} onClick={() => handleAcceptChatRequestButton()}>\n                            Вступить\n                        </button>\n                        <button className=\"btn btn-danger\" style={{width: \"100%\"}} onClick={() => handleDeleteChatRequestButton()}>\n                            Отклонить\n                        </button>\n                    </div>\n                </div>\n                <div className=\"d-none d-block d-sm-none\" style={{marginTop: \"10px\"}}>\n                    <div style={{textAlign: \"center\"}}>\n                        <button className=\"btn btn-primary\" style={{width: \"75%\"}} onClick={() => handleAcceptChatRequestButton()}>\n                            Вступить\n                        </button>\n                        <button className=\"btn btn-danger\" style={{width: \"75%\"}} onClick={() => handleDeleteChatRequestButton()}>\n                            Отклонить\n                        </button>\n                    </div>\n                </div>\n            </a>\n        </div>\n    )\n}\n\nexport default ChatNotificationCell;","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport ChatNotificationCell from '../cell/ChatNotificationCell';\n\n\nconst ChatNotificationList = (props: any) => {\n    const userData = useSelector((state: any) => state.user)\n\n    return (\n        <div>\n            {userData.chatRequestNotifications.map((request) => (\n                <ChatNotificationCell notification={request}/>\n            ))}\n        </div>\n    )\n}\n\nexport default ChatNotificationList;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport ChatNotificationList from \"../list/ChatNotificationList\";\n\n\nconst ChatNotificationTab = (props: any) => {\n    const userData = useSelector((state: any) => state.user)\n\n    if (userData.chatRequestNotifications && userData.chatRequestNotifications.length > 0) {\n        return (\n            <div className=\"tab-pane fade\" id=\"chats\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                <ChatNotificationList/>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"tab-pane fade\" id=\"chats\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                There are not notifications for you :((\n            </div>\n        )\n    }\n}\n\nexport default ChatNotificationTab;","import React from 'react';\n\nimport NotificationMenu from './NotificationMenu';\nimport FriendNotificationTab from './tab/FriendNotificationTab';\nimport ChatNotificationTab from './tab/ChatNotificationTab';\n\n\nconst NotificationsWindow = () => {\n    return (\n        <div className=\"container\">\n            <div>\n                <NotificationMenu/>\n            </div>\n            <div className=\"card\" style={{marginTop: \"5px\"}}>\n                <div className=\"tab-content\" id=\"nav-tabContent\">\n                    <FriendNotificationTab/>\n                    <ChatNotificationTab/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default NotificationsWindow;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { fetchGettingAllFriendRequests } from '../../store/friend/actions';\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport NotificationWindow from './include/notification/NotificationWindow';\nimport {fetchGettingAllChatRequestsToUser} from \"../../store/user/actions\";\n\n\nconst NotificationsPage = (props) => {\n    const dispatch = useDispatch()\n    const userData = useSelector(state => state.user)\n\n    useEffect(() => {\n        if (userData.info) {\n            dispatch(fetchGettingAllFriendRequests(userData.info.id))\n        }\n    }, [userData.info])\n\n\n    useEffect(() => {\n        if (userData?.info?.id) dispatch(fetchGettingAllChatRequestsToUser(userData.info.id));\n    }, [userData?.info, userData?.chatRequestNotifications.length])\n\n    if (userData.isAuth && userData.info) {\n        return (\n            <div>\n                <Header/>\n                <NotificationWindow/>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    }\n}\n\nexport default NotificationsPage;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\nimport 'simple-line-icons';\nimport '../../style.css';\nimport '../../../../App.css';\n\n\nconst LoginForm = (props) => {\n    const [username, setUsername] = useState()\n    const [password, setPassword] = useState()\n\n    const [error, setError] = useState(\"\")\n\n    const authUserAndCreateJwt = (event) => {\n        axios\n            .post(\"http://127.0.0.1:8000/jwt/token/\", {\n                username: username,\n                password: password,\n            })\n            .then(response => {\n                localStorage.setItem(\"jwt\", response.data.access)\n                window.location.href = 'http://127.0.0.1:8000/categories/';\n             })\n            .catch(error => {\n                if (error.response.status == 401) {\n                    setError(\"Вы неправильно ввели логин или пароль. Попробуйте снова.\")\n                } else if (error.response.status == 400) {\n                    setError(\"Логин или пароль не могут быть пустыми -_-.\")\n                } else {\n                    setError(`${error.response.status} error`)\n                }\n            });\n    }\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-10 mx-auto\">\n                <div className=\"registration-form\">\n                    <div className=\"form-login\">\n                        <div className=\"form-icon\">\n                            <span><i className=\"icon icon-user\"></i></span>\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control item\"\n                                id=\"username\"\n                                value={username}\n                                onChange={e => setUsername(e.target.value)}\n                                placeholder=\"Username\"/>\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control item\"\n                                id=\"password1\"\n                                value={password}\n                                onChange={e => setPassword(e.target.value)}\n                                placeholder=\"Password\"/>\n                        </div>\n                        <a href=\"#\" style={{float:\"right\", marginTop: \"-10px\", backgroundColor: \"PowderBlue\"}}>Don't have an account?</a>{\"\\n\"}\n                        <p className=\"text-danger\" style={{float:\"right\",  backgroundColor: \"PowderBlue\"}}>{error}</p>\n                        {\"\\n\\n\"}\n                        <div className=\"form-group\">\n                            <button type=\"button\" className=\"btn btn-block create-account\" onClick={authUserAndCreateJwt}>Sign In</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\nexport default LoginForm\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './style.css';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport LoginForm from \"./include/forms/LoginForm\";\n\n\nconst LoginPage = () => {\n    const userData = useSelector(state => state.user)\n\n    return (\n        <div>\n            <Header/>\n            {\"\\n\"}\n            {userData.isAuth ? <Error404NotFound/> : <LoginForm/>}\n        </div>\n    )\n}\n\nexport default LoginPage;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\nimport 'simple-line-icons';\nimport '../../style.css';\nimport '../../../../App.css';\n\n\nconst SignUpForm = () => {\n    const [username, setUsername] = useState()\n    const [password1, setPassword1] = useState()\n    const [password2, setPassword2] = useState()\n    const [email, setEmail] = useState()\n\n    const [errorReg, setErrorReg] = useState({\n        username: null,\n        password: null,\n        password2: null,\n        email: null\n    })\n\n    const createAccount = () => {\n        if (password1 != password2) {\n            setErrorReg({password2: \"Пароли должны совпадать!\"})\n        }\n        axios\n            .post(\"http://127.0.0.1:8000/api/v1/user/register/\", {\n                username: username,\n                password: password1,\n                email: email\n            })\n            .then(response => {\n                window.location.href = \"http://127.0.0.1:8000/auth/login/\";\n            })\n            .catch(err => {\n                if (err.response.status === 400) {\n                    setErrorReg(err.response.data)\n                } else {\n                    alert(err.response.status + \" error\")\n                }\n            })\n    }\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-10 mx-auto\">\n                <div className=\"registration-form\">\n                    <div className=\"form\">\n                        <div className=\"form-icon\">\n                            <span><i className=\"icon icon-user\"></i></span>\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control item\"\n                                id=\"username\"\n                                value={username}\n                                onChange={e => setUsername(e.target.value)}\n                                placeholder=\"Username\"\n                             />\n                            <p className=\"text-danger\" style={{float: \"left\", marginTop: \"-10px\", backgroundColor: \"PowderBlue\"}}>{errorReg.username}</p>\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control item\"\n                                id=\"password1\"\n                                value={password1}\n                                onChange={e => setPassword1(e.target.value)}\n                                placeholder=\"Password\"\n                             />\n                            <p className=\"text-danger\" style={{float: \"left\", marginTop: \"-10px\", backgroundColor: \"PowderBlue\"}}>{errorReg.password}</p>\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control item\"\n                                id=\"password2\"\n                                value={password2}\n                                onChange={e => setPassword2(e.target.value)}\n                                placeholder=\"Repeat Password\"\n                             />\n                            <p className=\"text-danger\" style={{float: \"left\", marginTop: \"-10px\", backgroundColor: \"PowderBlue\"}}>{errorReg.password2}</p>\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control item\"\n                                id=\"email\"\n                                value={email}\n                                onChange={e => setEmail(e.target.value)}\n                                placeholder=\"Email\"\n                             />\n                            <p className=\"text-danger\" style={{float: \"left\", marginTop: \"-10px\", backgroundColor: \"PowderBlue\"}}>{errorReg.email}</p>\n                        </div>\n                        {\"\\n\"}\n                        <a href=\"#\" style={{float: \"right\", marginTop: \"-5px\", backgroundColor: \"PowderBlue\"}}>Already have an account?</a>\n                        {\"\\n\\n\"}\n                        <div className=\"form-group\">\n                            <button onClick={createAccount} className=\"btn btn-block create-account\">Create Account</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SignUpForm;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport SignUpForm from \"./include/forms/SignUpForm\";\n\n\nconst SignUpPage = () => {\n    const userData = useSelector(state => state.user)\n\n    return (\n        <div>\n            <Header/>\n            {userData.isAuth ? <Error404NotFound/> : <SignUpForm/>}\n        </div>\n    )\n}\n\n\nexport default SignUpPage;\n","import React from 'react';\n\n\nimport '../../style.css';\nimport '../../../../App.css';\n\n\nconst AcceptPasswordAlert = () => {\n    return (\n        <div>\n            <h2>Поздравляем!</h2>\n            <p>Вы успешно зарегистрировались! <a href=\"#\">Нажмите чтобы войти</a></p>\n        </div>\n    )\n}\n\nexport default AcceptPasswordAlert;\n","import React, { useState, useEffect, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport AcceptedPasswordAlert from './include/information/AcceptedPasswordAlert';\n\n\nconst acceptAccount = async(token: string, isAuth: boolean) => {\n    let accepted: boolean | undefined;\n\n    if (isAuth) {\n        accepted = false;\n        console.log(\"You cant go here, because you're register!\")\n        return accepted;\n    }\n\n    await axios.patch(\"http://127.0.0.1:8000/api/v1/user/accept/\" + token + \"/\" , {}, {})\n        .then((response) => {\n            accepted = true\n        })\n        .catch((error) => {\n            accepted = false\n            if (error.response.status === 404) {\n                alert(\"Token doesnt exists\")\n            } else {\n                alert(error.response.status + \" error\")\n            }\n        })\n    return accepted;\n}\n\n\nconst AcceptAccountPage = (props: any) => {\n    const [accepted, setAccepted] = useState(false)\n    const userData = useSelector((state: any) => state.user)\n\n    const token: string = props.match.params.token;\n\n    useEffect(() => {\n        acceptAccount(token, userData.isAuth)\n            .then((data) => {\n                setAccepted(data)\n            })\n    }, [])\n\n    return (\n        <div>\n            <Header/>\n            {accepted ?\n            <AcceptedPasswordAlert/>\n            :\n            <Error404NotFound/>\n            }\n        </div>\n    )\n}\n\nexport default AcceptAccountPage;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getReadableDateFormat } from '../../../../services/service';\n\n\nconst Chat = (props) => {\n    const [lastMessage, setLastMessage] = useState(props.chat.last_message)\n    const userData = useSelector(state => state.user)\n\n\n    console.log()\n    return (\n        <div className=\"card col-9 my-3 mx-auto border border-primary\">\n            <a\n                href={props.type_is_group\n                        ? \"/chats/group/\" + props.chat.id + \"/\"\n                        : \"/chats/personal/\" + props.chat.interlocutor.username + \"/\"\n                }\n                className=\"list-group-item list-group-item-action border-0\"\n            >\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img\n                        src={props.type_is_group ? props.chat.avatar : props.chat.interlocutor.avatar.image}\n                        className=\"rounded-circle mr-1\"\n                        alt=\"lol\"\n                        width=\"60\"\n                        height=\"60\"\n                        style={{marginLeft: \"-10px\"}}\n                     />\n                    <div className=\"flex-grow-1 ml-3\" id={props.chat.id}>\n                        <p style={{fontSize: \"14pt\"}}>{props.type_is_group ? props.chat.name : props.chat.interlocutor.username}</p>\n                        <div className=\"small\" style={{marginTop: \"-10px\"}}>\n                            <p>\n                                {props.chat.last_message.text\n                                ?\n                                    <div>\n                                        <b>\n                                            {userData.info.id === props.chat.last_message.user_data.id ? \"Вы\" : props.chat.last_message.user_data.username}\n                                        </b>{\"\\n\"}\n                                        {props.chat.last_message.text.substr(0, 20) + \"...\"}{\"\\n\"}\n                                        {getReadableDateFormat(props.chat.last_message.created_at)}\n                                    </div>\n                                :\n                                    <div>\n                                        Нет сообщений\n                                    </div>\n                                }\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </a>\n        </div>\n    )\n}\n\nexport default Chat;\n","import React from 'react';\nimport Chat from './Chat';\n\n\nconst ChatList = (props) => {\n    console.log(props.chats)\n\n    return (\n        <div>\n            {props.chats.map((chat) => (\n                <Chat\n                    key={chat.id}\n                    chat={chat}\n                    type_is_group={props.type_is_group}\n                 />\n            ))}\n        </div>\n    )\n}\n\nexport default ChatList;\n","import React, {useEffect, useState} from 'react';\nimport {createChat} from \"../../../../services/chatService\";\nimport {GroupChatI} from \"../../../../interfaces\";\n\n\nconst CreateChatWindow = () => {\n    const [name, setName] = useState<string>();\n    const [photo, setPhoto] = useState();\n\n    const [formErrors, setFormErrors] = useState<any>({\n        name: null,\n        avatar: null\n    })\n\n    useEffect(() => {\n        let nameErrorP = document.getElementById('name-error')\n        let avatarErrorP = document.getElementById('avatar-error')\n\n        nameErrorP.innerHTML = \"\"\n        avatarErrorP.innerHTML = \"\"\n\n        if (formErrors.name) nameErrorP.innerHTML = formErrors.name\n        if (formErrors.avatar) avatarErrorP.innerHTML = formErrors.avatar\n    }, [formErrors])\n\n    const changePhoto = (event) => {\n        event.preventDefault()\n        if (event.target.files[0]) {\n            setPhoto(event.target.files[0])\n        }\n    }\n\n    const handleCreateChatButton = async() => {\n        let formData: FormData = new FormData();\n        if (name) {\n            formData.append('name', name)\n        }\n        formData.append('avatar', photo)\n        const chat: GroupChatI = await createChat(formData);\n        if (!chat?.id) {\n            setFormErrors(chat)\n            return\n        }\n        window.location.href = 'http://127.0.0.1:8000/chats/';\n    }\n\n    return (\n        <div className=\"modal fade bd-example-modal-lg\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n             aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-lg\">\n                <div className=\"modal-content\">\n                    <div style={{width: \"80%\", margin: \"10px auto\"}}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"name\">Название чата</label>\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                id=\"name\"\n                                onChange={e => setName(e.target.value)}\n                                aria-describedby=\"emailHelp\"\n                                placeholder=\"Название чата\"/>\n                            <p className=\"text-danger\" id=\"name-error\"></p>\n                        </div>\n                        <div className=\"mb-3\">\n                            <label htmlFor=\"avatar\" className=\"form-label\">Аватарка чата</label>\n                            <input\n                                className=\"form-control\"\n                                type=\"file\"\n                                id=\"avatar\"\n                                onChange={changePhoto}\n                            />\n                            <p className=\"text-danger\" id=\"avatar-error\"></p>\n                        </div>\n                        <button type=\"button\" onClick={handleCreateChatButton} className=\"btn btn-primary\">Создать</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CreateChatWindow;","import React from 'react';\nimport ChatList from './ChatList';\nimport CreateChatWindow from \"./CreateChatWindow\";\n\n\nconst ChatWindow = (props) => {\n    return (\n        <div className=\"container\">\n            <div className=\"card\">\n                <b style={{margin: \"0 auto\", fontSize: \"15pt\"}}>Групповые чаты</b>\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-primary my-3\"\n                            data-toggle=\"modal\"\n                            data-target=\".bd-example-modal-lg\"\n                            style={{marginLeft: \"12.5%\"}}\n                        >\n                            Создать чат\n                        </button>\n                        <CreateChatWindow/>\n                        {\"\\n\"}\n                        <ChatList chats={props.groupChats} type_is_group={true}/>\n                        <a href=\"/chats/group/\" style={{marginLeft: \"12.5%\"}}>показать все</a>\n                    </div>\n                </div>\n                {\"\\n\"}\n                <hr style={{borderTop: \"1px gray solid\"}}/>\n                {\"\\n\"}\n                <b style={{margin: \"0 auto\", fontSize: \"15pt\"}}>Личные чаты</b>\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <ChatList chats={props.personalChats} type_is_group={false}/>\n                        <a href=\"/chats/personal/\" style={{marginLeft: \"12.5%\"}}>показать все</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ChatWindow;","import axios from \"axios\";\n\ninterface PersonalChatDataI {\n    info: object | null,\n    error: number | null\n}\n\n\nexport const getPersonalChats = async() => {\n    try {\n        const response = await axios.get(\"http://127.0.0.1:8000/api/v1/personal_chats/\", {\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n            }\n        })\n        return response.data\n    } catch (error) {\n        if (error.response.status != 401) {\n            alert(error.response.status + \" error\")\n        }\n    }\n}\n\n\nexport const getPersonalChat = async(username: string) => {\n    let data: PersonalChatDataI = {\n        info: null,\n        error: null\n    }\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/personal_chats/\" + username + \"/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.info = response.data\n        })\n        .catch((error) => {\n            data.error = error.response.status\n        })\n\n    return data;\n}\n\nexport const getPersonalChatMessages = async(username: string, pageNumber: number) => {\n    let data =  {\n        messages: null,\n        error: null\n    }\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/personal_chats/\" + username + \"/messages/?page_number=\" + pageNumber, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            if (response.status !== 204) {\n                data.messages = response.data\n            } else {\n                data.error = true\n            }\n        })\n        .catch((error) => {\n            data.error = true\n        })\n\n    return data\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux'\nimport axios from 'axios';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\n\nimport ChatWindow from './include/chat/ChatWindow';\nimport {getGroupChats} from \"../../services/chatService\";\nimport {getPersonalChats} from \"../../services/personalChatService\";\n\n\nconst getUserChats = async() => {\n    let chats = {\n        personal: [],\n        group: []\n    }\n\n    const groupResponse = await getGroupChats('last_message', 0)\n    chats.group = groupResponse.data\n    console.log(chats.group)\n    chats.personal = await getPersonalChats();\n    return chats\n}\n\n\nconst ChatListPage = () => {\n    const userData = useSelector(state => state.user)\n\n    const [groupChats, setGroupChats] = useState([])\n    const [personalChats, setPersonalChats] = useState([])\n\n    const [update, setUpdate] = useState(0);\n\n    useEffect(() => {\n        setInterval(() => {\n            setUpdate(prevState => prevState+=1)\n        }, 5000)\n    }, [])\n\n\n\n\n    useEffect(() => {\n        getUserChats()\n            .then((result) => {\n                setGroupChats(result.group)\n                setPersonalChats(result.personal)\n        })\n    }, [update])\n\n    if (userData.isAuth) {\n        return (\n            <div>\n                <Header/>\n                <ChatWindow\n                    groupChats={groupChats}\n                    personalChats={personalChats}\n                 />\n                {\"\\n\"}\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    }\n}\n\nexport default ChatListPage;\n","import React from 'react';\nimport '../style.css';\nimport { getReadableDateFormat } from '../../../../services/service';\n\n\nconst Message = (props) => {\n    if (props?.message?.user_data) {\n        return (\n            <div>\n                {props.currentUserData.info.id === props.message.user_data.id\n                ?\n                    <div className=\"chat-message-right pb-4\" style={{width: \"70%\"}}>\n                        <div>\n                            <img src={props.message.user_data.avatar.image} className=\"rounded-circle mr-1\" alt=\"you\" width=\"40\" height=\"40\"/>\n                        </div>\n                        <div className=\"flex-shrink-1 bg-light rounded py-2 px-3 mr-3\">\n                            <div className=\"font-weight-bold mb-1\"><a href=\"#\" style={{textDecoration: \"none\", color: \"black\"}}>Вы</a></div>\n                            {props.message.text}\n                            <div className=\"text-muted small text-nowrap mt-2\">{getReadableDateFormat(props.message.created_at)}</div>\n                        </div>\n                    </div>\n                :\n                    <div className=\"chat-message-left pb-4\" style={{width: \"70%\"}}>\n                        <div>\n                            <img src={props.message.user_data.avatar.image} className=\"rounded-circle mr-1\" alt=\"...\" width=\"40\" height=\"40\"/>\n                        </div>\n                        <div className=\"flex-shrink-1 bg-light rounded py-2 px-3 ml-3\">\n                            <div className=\"font-weight-bold mb-1\">\n                                <a href={\"/users/\" + props.message.user_data.username + \"/\"} style={{textDecoration: \"none\", color: \"black\"}}>{props.message.user_data.username}</a>\n                            </div>\n                            {props.message.text}\n                            <div className=\"text-muted small text-nowrap mt-2\">{getReadableDateFormat(props.message.created_at)}</div>\n                        </div>\n                    </div>\n                }\n            </div>\n        )\n    } else {\n        return (\n            <div>\n            </div>\n        )\n    }\n}\n\nexport default Message;","import React from 'react';\nimport Message from './Message';\n\nconst MessageList = (props) => {\n\n    return (\n        <div>\n            {props.messages.map((message) => (\n                <Message message={message} currentUserData={props.currentUserData} new={props.new}/>\n            ))}\n        </div>\n    )\n}\n\nexport default MessageList;\n","import axios from \"axios\";\n\n\nexport const createGroupMessage = async(message, chatId) => {\n    let data = {\n        info: null,\n        error: null\n    }\n    let url = \"http://127.0.0.1:8000/api/v1/chats/\" + chatId + \"/messages/\"\n\n    await axios.post(url, {\n        text: message\n    }, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.info = response.data\n        })\n        .catch((error) => {\n            data.error = error.response.status\n        })\n\n    return data\n}\n\nexport const createPersonalMessage = async(message, username) => {\n    let data = {\n        info: null,\n        error: null\n    }\n    let url = \"http://127.0.0.1:8000/api/v1/personal_chats/\" + username + \"/messages/\"\n\n    await axios.post(url, {\n        text: message\n    }, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.info = response.data\n        })\n        .catch((error) => {\n            data.error = error.response.status\n        })\n\n    return data\n}","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {createGroupMessage, createPersonalMessage} from \"../../../../services/messageService\";\n\nconst MessageInput = (props) => {\n    const [message, setMessage] = useState(\"\")\n\n    const sendMessage = () => {\n        if (message !== \"\") {\n            if (props.type_is_group) {\n                createGroupMessage(message, props.chat.id)\n                    .then((result) => {\n                        props.ws.send((JSON.stringify({\n                            type: \"send_message\",\n                            data: result.info\n                        })))\n                    })\n                    .catch((error) => {\n                        console.error(error)\n                    })\n            } else {\n                createPersonalMessage(message, props.chat.interlocutor.username)\n                    .then((result) => {\n                        props.ws.send((JSON.stringify({\n                            type: \"send_message\",\n                            data: result.info\n                        })))\n                    })\n                    .catch((error) => {\n                        console.error(error)\n                    })\n            }\n        }\n        setMessage(\"\")\n    }\n\n    const handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n           sendMessage()\n        }\n    }\n\n    return (\n        <div className=\"flex-grow-0 py-3 px-4 border-top\">\n            <div className=\"input-group\">\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"chat-message-input\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    onKeyPress={handleKeyPress}\n                    placeholder=\"Type your message\"\n                 />\n                <button\n                    className=\"btn btn-primary\"\n                    id=\"chat-message-submit\"\n                    onClick={sendMessage}\n                 >\n                    Send\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default MessageInput;\n","import React from 'react';\n\nimport 'simple-line-icons';\n\n\nconst ChatHeader = (props: any) => {\n    return (\n        <div className=\"py-2 px-4 border-bottom  d-lg-block\">\n            <a\n                href={props.type_is_group ? `/chats/group/${props.id}/settings/` : `/users/${props.name}/`}\n                className=\"d-flex align-items-center py-1 text-dark\" style={{textDecoration: \"none\"}}>\n                <div className=\"position-relative\">\n                    <img src={props.avatar} className=\"rounded-circle mr-1\" alt=\"...\" width=\"50\" height=\"50\"/>\n                </div>\n                <div className=\"flex-grow-1 pl-3\">\n                    <strong>{props.name}</strong>\n                </div>\n                {props.type_is_group\n                ?\n                    <a href={\"/chats/\" + props.id + \"/settings/\"} style={{marginLeft: \"auto\"}} >\n                        <svg enableBackground=\"new 0 0 91 91\" height=\"35px\" id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 91 91\" width=\"35px\" xmlSpace=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M90.668,35.091c0.17-0.643,0.08-1.326-0.25-1.902L78.813,13.115c-0.695-1.195-2.225-1.607-3.422-0.914   l-9.734,5.619c-1.791-1.283-3.707-2.391-5.727-3.307V3.269c0-1.383-1.121-2.504-2.506-2.504H34.23   c-1.385,0-2.504,1.121-2.504,2.504v11.246c-1.891,0.861-3.699,1.893-5.406,3.086l-9.678-5.736   c-0.572-0.338-1.252-0.434-1.896-0.271c-0.643,0.166-1.197,0.578-1.535,1.15L1.387,32.69c-0.338,0.57-0.436,1.254-0.271,1.898   c0.166,0.643,0.578,1.195,1.15,1.533l9.682,5.734c-0.154,1.305-0.229,2.523-0.229,3.695c0,1.039,0.061,2.117,0.189,3.309   L2.16,54.491c-0.576,0.334-0.996,0.881-1.166,1.521c-0.174,0.641-0.082,1.326,0.25,1.9l11.6,20.076   c0.691,1.197,2.225,1.609,3.422,0.914l9.736-5.621c1.793,1.285,3.711,2.391,5.725,3.307v11.244c0,1.385,1.119,2.504,2.504,2.504   h23.193c1.385,0,2.506-1.119,2.506-2.504V76.589c1.889-0.859,3.697-1.895,5.402-3.088l9.684,5.736   c1.188,0.705,2.727,0.311,3.432-0.879L90.27,58.413c0.336-0.572,0.434-1.256,0.271-1.898c-0.166-0.643-0.578-1.195-1.152-1.533   l-9.676-5.734c0.156-1.314,0.23-2.518,0.23-3.695c0-1.051-0.063-2.143-0.189-3.313l9.746-5.627   C90.074,36.282,90.496,35.733,90.668,35.091z M59.242,45.55c0,7.396-6.018,13.414-13.416,13.414   c-7.396,0-13.412-6.018-13.412-13.414c0-7.393,6.016-13.41,13.412-13.41C53.225,32.14,59.242,38.157,59.242,45.55z\"/></g></svg>\n                    </a>\n                :\n                <div></div>\n                }\n            </a>\n        </div>\n    )\n}\n\nexport default ChatHeader;\n","import React from 'react';\n\n\n\nconst UserCell = (props: any) => {\n    return (\n        <div>\n            {props.users.map((user) => (\n                <a href={\"/users/\" + user.username + \"/\"} className=\"list-group-item list-group-item-action border-0\">\n                    <div className=\"d-flex align-items-start\">\n                        <img src={user.user_data.avatar.image} className=\"rounded-circle mr-1\" alt=\"...\" width=\"40\" height=\"40\"/>\n                        <div className=\"flex-grow-1 ml-3\">\n                            {user.user_data.username}\n                            <div className=\"small\"><span className=\"fas fa-circle chat-offline\"></span>{user.name}</div>\n                        </div>\n                    </div>\n                </a>\n            ))}\n        </div>\n    )\n}\n\nexport default UserCell;\n","import React from 'react';\n\n\nimport UserCell from './UserCell';\n\n\ninterface ChatUserListI {\n    users: object[]\n}\n\nconst ChatUserList = (props: ChatUserListI) => {\n    return (\n        <div className=\"col-12 col-lg-5 col-xl-3 d-none d-lg-block border-right\">\n            <div className=\"px-4 d-none d-md-block\">\n                <div className=\"d-flex align-items-center\">\n                    <div className=\"flex-grow-1\">\n                        <input type=\"text\" className=\"form-control my-3\" placeholder=\"Search...\"/>\n                    </div>\n                </div>\n            </div>\n            <UserCell users={props.users}/>\n        </div>\n    )\n}\n\nexport default ChatUserList;\n","import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nimport '../style.css';\n\nimport MessageList from './MessageList';\nimport MessageInput from './MessageInput';\nimport ChatHeader from '../chat/ChatHeader';\nimport ChatUserList from '../user/ChatUserList';\n\nimport {getChatMembers} from \"../../../../services/chatService\";\n\n\nconst MessageChatWindow = (props) => {\n    const [members, setMembers] = useState([])\n\n    const messageRef = useRef();\n\n    useEffect(() => {\n        if (props.type_is_group) {\n            getChatMembers(props.chat.id)\n                .then((result) => {\n                    setMembers(result)\n                })\n        }\n    }, [])\n\n    useEffect(() => {\n        if (messageRef.current) {\n            messageRef.current.scrollIntoView(\n                {\n                    behavior: 'smooth',\n                    block: 'end',\n                    inline: 'nearest'\n                }\n            )}\n    })\n\n    if (props.chat !== undefined) {\n        return (\n            <main className=\"content\">\n                <div className=\"container p-0\">\n                    <div className=\"card\">\n                        <div className=\"row g-0\">\n                            {props.type_is_group\n                                ? <ChatUserList users={members}/>\n                                : \"\"\n                            }\n                            <hr className=\"d-block d-lg-none mt-1 mb-0\"/>\n                                <div className={props.type_is_group ? \"col-12 col-lg-7 col-xl-9\" : \"col-12 col-lg-12 col-xl-12\"}>\n\n                                {props.type_is_group\n                                    ?\n                                     <ChatHeader\n                                         avatar={props.chat.avatar}\n                                         name={props.chat.name}\n                                         id={props.chat.id}\n                                         type_is_group={true}\n                                      />\n                                    :\n                                     <ChatHeader\n                                         avatar={props.chat.interlocutor.avatar.image}\n                                         name={props.chat.interlocutor.username}\n                                         id={props.chat.interlocutor.id}\n                                         type_is_group={false}\n                                      />\n                                    }\n                                <div className=\"position-relative\">\n                                    <div className=\"chat-messages p-4\" id=\"chat-window\" onScroll={props.scrollHandler} ref={messageRef} style={{height: \"550px\"}}>\n                                        <MessageList\n                                            messages={props.messages}\n                                            currentUserData={props.currentUserData}\n                                            new={false}\n                                         />\n                                        {\"\\n\"}\n                                        <center>\n                                            <p>New messages</p>\n                                            <hr style={{borderColor: \"red\"}}/>\n                                        </center>\n                                        <MessageList\n                                            messages={props.newMessages}\n                                            currentUserData={props.currentUserData}\n                                            new={true}\n                                         />\n                                    </div>\n                                </div>\n                                <MessageInput\n                                    chat={props.chat}\n                                    ws={props.ws}\n                                    currentUserData={props.currentUserData}\n                                    type_is_group={props.type_is_group}\n                                 />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        )\n    } else {\n        return (\n            <div>\n            </div>\n        )\n    }\n}\n\nexport default MessageChatWindow;","import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\n\nimport MessageChatWindow from './include/message/MessageChatWindow';\nimport {getPersonalChat, getPersonalChatMessages} from \"../../services/personalChatService\";\nimport {CurrentUserDataI, getCurrentUserData} from \"../../services/service\";\n\n\n\nconst PersonalMessageChatPage = (props: any) => {\n    const interlocutorUsername = props.match.params.username\n\n    const [currentUserData, setCurrentUserData] = useState<CurrentUserDataI>({\n        info: null,\n        isAuth: false\n    })\n\n    const [messages, setMessages] = useState([])\n    const [chat, setChat] = useState<any>()\n    const [error, setError] = useState<any>(false)\n\n    const [newMessages, setNewMessages] = useState([])\n\n    const [currentPage, setCurrentPage] = useState(2);\n    const [fetching, setFetching] = useState(false)\n    const [scrollHeights, setScrollHeights] = useState([1355])\n\n    const ws: any = useRef()\n\n\n    const addNewMessageInArray = (data: any) => {\n        let chatHistory = document.getElementById('chat-window')\n\n        setNewMessages(\n            newMessages => [...newMessages, data]\n        )\n\n        if (chatHistory.scrollHeight - chatHistory.scrollTop < 1000) {\n            chatHistory.scrollTop = chatHistory.scrollHeight;\n        }\n    }\n\n    useEffect(() => {\n        getPersonalChat(interlocutorUsername)\n            .then((result) => {\n                setChat(result.info)\n                setError(result.error)\n            })\n    }, [])\n\n    useEffect(() => {\n        getCurrentUserData()\n            .then((result) => {\n                setCurrentUserData(result)\n            })\n\n        getPersonalChatMessages(interlocutorUsername, 1)\n            .then((result) => {\n                setMessages(result.messages.reverse())\n                let chatHistory = document.getElementById('chat-window')\n                chatHistory.scrollTop = chatHistory.scrollHeight;\n            })\n    }, [])\n\n\n    useEffect(() => {\n        ws.current = new WebSocket(\n            `ws://127.0.0.1:8000/ws/personal_chat/${interlocutorUsername}/?token=${(localStorage.getItem(\"jwt\") as string)}/`\n        )\n        ws.current.onopen = () => {\n            console.log(\"opened\")\n        }\n\n        ws.current.onclose = () => {\n            console.log(\"closed\")\n        }\n\n        ws.current.onmessage = (e) => {\n            addNewMessageInArray(JSON.parse(e.data))\n        }\n    }, [])\n\n    useEffect(() => {\n        if (fetching && currentPage !== -1) {\n            console.log(\"fetching\")\n            getPersonalChatMessages(interlocutorUsername, currentPage)\n                .then((result) => {\n                    if (!result.error) {\n                        setMessages([...result.messages.reverse(), ...messages])\n                        setCurrentPage(prevState => prevState + 1)\n                    } else {\n                        setCurrentPage(-1)\n                    }\n                })\n                .catch(err => {\n                    console.log(err);\n                })\n                .finally(() => {\n                    setFetching(false)\n                })\n        }\n    }, [fetching])\n\n    useEffect(() => {\n        if (messages && messages.length > 0) {\n            let chatHistory = document.getElementById('chat-window')\n            setScrollHeights([...scrollHeights, chatHistory.scrollHeight])\n        }\n    }, [messages])\n\n    const scrollHandler = (e) => {\n        if (\n            e.target.scrollTop < 10 &&\n            currentPage !== -1\n        ) {\n            setFetching(true)\n            let elem = document.getElementById('chat-window')\n            console.log(`Scroll top is ${elem.scrollTop}`)\n            console.log(scrollHeights)\n            elem.scrollTop = e.target.scrollHeight - scrollHeights[scrollHeights.length - 2]\n        }\n    }\n\n\n    if (!currentUserData.isAuth || error) {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <MessageChatWindow\n                    type_is_group={false}\n                    messages={messages}\n                    newMessages={newMessages}\n                    chat={chat}\n                    ws={ws.current}\n                    currentUserData={currentUserData}\n                    scrollHandler={scrollHandler}\n                 />\n            </div>\n        )\n    }\n}\n\nexport default PersonalMessageChatPage;\n","import React from 'react';\n\n\n\n\nconst SettingMenu = (props: any) => {\n    const menuList = [\n        {\n            name: \"Главная\",\n            id: \"nav-home-tab\",\n            className: \"nav-item nav-link active\",\n            href: \"#main-tab\",\n            aria_controls: \"nav-home\",\n            aria_selected: true\n        },\n        {\n            name: \"Участники\",\n            id: \"nav-members-tab\",\n            className: \"nav-item nav-link\",\n            href: \"#members-tab\",\n            aria_controls: \"#nav-members\",\n            aria_selected: false\n        },\n        {\n            name: \"Добавить друга\",\n            id: \"nav-profile-tab\",\n            className: \"nav-item nav-link\",\n            href: \"#friend-tab\",\n            aria_controls: \"#nav-profile\",\n            aria_selected: false\n        }\n    ]\n\n\n    return (\n        <div>\n            <nav>\n                <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n                    {menuList.map((menu) => (\n                        <a\n                            className={menu.className}\n                            id={menu.id}\n                            data-toggle=\"tab\"\n                            href={menu.href}\n                            role=\"tab\"\n                            aria-controls={menu.aria_controls}\n                            aria-selected={menu.aria_selected}\n                        >\n                            {menu.name}\n                        </a>\n                    ))}\n\n                    {/**<a\n                        className=\"nav-item nav-link active\"\n                        id=\"nav-home-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#main-tab\"\n                        role=\"tab\"\n                        aria-controls=\"nav-home\"\n                        aria-selected=\"true\">\n                        Главная\n                    </a>\n                    <a\n                        className=\"nav-item nav-link\"\n                        id=\"nav-profile-tab\"\n                        data-toggle=\"tab\"\n                        href=\"#friend-tab\"\n                        role=\"tab\"\n                        aria-controls=\"nav-profile\"\n                        aria-selected=\"false\">\n                        Добавить друга\n                    </a>\n                    */}\n                </div>\n            </nav>\n        </div>\n    )\n}\n\nexport default SettingMenu;\n","import React from 'react';\n\n\nconst InformationTab = (props: any) => {\n    return (\n        <div className=\"tab-pane fade show active\" id=\"main-tab\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n            here will be inforamtion tab.\n        </div>\n    )\n}\n\nexport default InformationTab;\n","export const GET_ALL_CHAT_REQUESTS = \"GET_ALL_CHAT_REQUESTS\";\nexport const GET_ALL_CHAT_MEMBERS = \"GET_ALL_CHAT_MEMBERS\";\n\nexport const GET_REQUEST = \"GET_REQUEST\";\nexport const CHECK_IS_REQUEST_EXISTS = \"CHECK_IS_REQUEST_EXISTS\";\nexport const CREATE_REQUEST = \"CREATE_REQUEST\";\nexport const DELETE_REQUEST = \"DELETE_REQUEST\";\n\nexport const GET_GROUP_CHAT_LIST = \"GET_GROUP_CHAT_LIST\";\nexport const GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES = \"GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES\";\nexport const GET_GROUP_CHAT_LIST_WITH_MESSAGES = \"GET_GROUP_CHAT_LIST_WITH_MESSAGES\";\nexport const GET_CURRENT_USER_CHAT_LIST = \"GET_CURRENT_USER_CHAT_LIST\";\n\nexport const ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST = \"ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST\";\nexport const FILTER_GROUP_CHAT_LIST_BY_EMPTY_MESSAGES = \"FILTER_GROUP_CHAT_LIST_BY_EMPTY_MESSAGES\";\nexport const SORT_GROUP_CHAT_LIST_BY_LAST_MESSAGES = \"SORT_GROUP_CHAT_LIST_BY_LAST_MESSAGES\";\n","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchCreatingRequest, fetchDeletingRequest} from \"../../../../store/chat/actions\";\n\n\nconst FriendButtonVariants = (props) => {\n    const chatRed = useSelector((state: any) => state.requestList)\n    const dispatch = useDispatch()\n\n    const handleCreateRequestButton = () => {\n        dispatch(fetchCreatingRequest(props.chatData.data.id, props.friendData.id))\n    }\n\n    const handleDeleteRequestButton = () => {\n        dispatch(fetchDeletingRequest(props.chatData.data.id, props.friendData.id))\n    }\n\n    if (chatRed.requestList.find(req => req.to_user.id === props.friendData.id && !req.is_accepted)) {\n        return (\n            <div>\n                <button className=\"btn btn-warning\" onClick={() => handleDeleteRequestButton()}>\n                    Отозвать\n                </button>\n            </div>\n        )\n    } else if (chatRed.requestList.find(req => req.to_user.id === props.friendData.id && req.is_accepted)) {\n        return (\n            <div>\n                <button className=\"btn btn-danger\" onClick={() => handleDeleteRequestButton()}>\n                    Удалить\n                </button>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <button className=\"btn btn-info\" onClick={() => handleCreateRequestButton()}>\n                    Пригласить\n                </button>\n            </div>\n        )\n    }\n}\n\nexport default FriendButtonVariants\n","import {\n    createRequest,\n    deleteRequest,\n    getAllChatRequest,\n    getChatMembers,\n    getRequest\n} from \"../../services/chatService\";\nimport {\n    ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST,\n    CHECK_IS_REQUEST_EXISTS,\n    CREATE_REQUEST, DELETE_REQUEST,\n    GET_ALL_CHAT_MEMBERS,\n    GET_ALL_CHAT_REQUESTS,\n    GET_REQUEST\n} from \"./actionTypes\";\nimport {GroupChatI, GroupChatRequestI} from \"../../interfaces\";\n\n\nexport const fetchGettingAllChatMembers = (chatId: number) => {\n    return function (dispatch) {\n        getChatMembers(chatId)\n            .then((result) => {\n                dispatch({\n                    type: GET_ALL_CHAT_MEMBERS,\n                    payload: {\n                        members: result\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchGettingAllChatRequest = (chatId: number) => {\n    return function (dispatch) {\n        getAllChatRequest(chatId)\n            .then((result) => {\n                dispatch({\n                    type: GET_ALL_CHAT_REQUESTS,\n                    payload: {\n                        requestList: result\n                    }\n                })\n            })\n    }\n}\n\nexport const setIsRequestExists = (requestList: Array<GroupChatRequestI>, userId: number) => {\n    return function (dispatch) {\n        let isRequestExists: boolean = false\n\n        requestList.forEach(chatRequest => {\n            if (userId === chatRequest.to_user.id && !chatRequest.is_accepted) isRequestExists = true\n        })\n\n        dispatch({\n            type: CHECK_IS_REQUEST_EXISTS,\n            payload: {\n                requestSent: {\n                    requestId: userId,\n                    state: isRequestExists,\n                }\n            }\n        })\n    }\n}\n\nexport const fetchCreatingRequest = (chatId: number, userId: number) => {\n    return function (dispatch) {\n        createRequest(chatId, userId)\n            .then((result) => {\n                dispatch({\n                    type: CREATE_REQUEST,\n                    payload: {\n                        newRequest: result\n                    }\n                })\n            })\n    }\n}\n\nexport const fetchDeletingRequest = (chatId: number, userId: number) => {\n    return function (dispatch) {\n        getRequest(chatId, userId)\n            .then((result) => {\n                deleteRequest(chatId, userId)\n                    .then((status) => {\n                        dispatch({\n                            type: DELETE_REQUEST,\n                            payload: {\n                                deletingRequestId: result.id\n                            }\n                        })\n                    })\n            })\n    }\n}\n\n\nexport const addNewGroupChatsInGroupChatList = (newChats: Array<GroupChatI>) => {\n    return function (dispatch) {\n        dispatch({\n            type: ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST,\n            payload: {\n                newLoadedChatList: newChats\n            }\n        })\n    }\n}","import React, {useEffect, useState} from 'react';\nimport FriendButtonVariants from \"./FriendButtonVariants\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nconst Friend = (props: any) => {\n    const [userIsMember, setUserIsMember] = useState(false)\n\n    const dispatch = useDispatch()\n\n    return (\n        <div className=\"card col-9 my-3 mx-auto border border-primary\">\n            <div\n                className=\"list-group-item list-group-item-action border-0\"\n                >\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img\n                        src={props.friendData.avatar.image}\n                        className=\"rounded-circle mr-1\"\n                        alt=\"lol\"\n                        width=\"60\"\n                        height=\"60\"\n                        style={{marginLeft: \"-10px\"}}\n                     />\n                    <a href={\"/users/\" + props.friendData.username + \"/\"} className=\"flex-grow-1 ml-3 text-dark\" style={{textDecoration: \"none\"}}>\n                       <p style={{fontSize: \"14pt\"}}>{props.friendData.username}</p>\n                       <div className=\"small\" style={{marginTop: \"-15px\"}}>\n                           <p className=\"text-info\">{props.friendData.group_data.name}</p>\n                           <u>Почта: </u>{\" \" + props.friendData.email}\n                       </div>\n                    </a>\n                    <div style={{marginLeft: \"auto\"}}>\n                        <FriendButtonVariants friendData={props.friendData} chatData={props.chatData}/>\n                   </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Friend;\n","import React, {useEffect} from 'react';\nimport Friend from './Friend';\nimport {useSelector} from \"react-redux\";\n\n\nconst FriendList = (props) => {\n    const friendListData = useSelector((state: any) => state.friendList)\n    const chatRed = useSelector((state: any) => state.requestList)\n\n    return (\n        <div className=\"container\" style={{padding: \"10px\"}}>\n            {friendListData.list.map((friend) => (\n                <Friend friendData={friend} chatData={props.chatData}/>\n            ))}\n        </div>\n    )\n}\n\nexport default FriendList;\n","import React, { useState, useEffect } from 'react';\nimport {useDispatch, useSelector} from 'react-redux'\n\nimport FriendList from '../friend/FriendList';\nimport {fetchGettingAllUserFriends} from \"../../../../store/friend/actions\";\n\n\n\n\nconst AddFriendTab = (props: any) => {\n    const dispatch = useDispatch()\n\n    const currentUserData = useSelector((state: any) => state.user)\n    const friendListData = useSelector((state: any) => state.friendList)\n\n    useEffect(() => {\n        if (currentUserData.isAuth) {\n            dispatch(fetchGettingAllUserFriends(currentUserData.info.id))\n        }\n    }, [dispatch, currentUserData])\n\n\n    if (friendListData.list.length > 0 && currentUserData.isAuth) {\n        return (\n            <div className=\"tab-pane fade\" id=\"friend-tab\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                <FriendList chatData={props.chatData}/>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"tab-pane fade\" id=\"friend-tab\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n                You don't have friends.\n            </div>\n        )\n    }\n}\n\nexport default AddFriendTab;","import React from 'react';\nimport {getReadableDateFormat} from \"../../../../services/service\";\nimport FriendButtonVariants from \"../friend/FriendButtonVariants\";\n\nconst Member = (props: any) => {\n    return (\n        <div className=\"card col-9 my-3 mx-auto border border-primary\">\n            <div\n                className=\"list-group-item list-group-item-action border-0\"\n            >\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img\n                        src={props.member.user_data.avatar.image}\n                        className=\"rounded-circle mr-1\"\n                        alt=\"lol\"\n                        width=\"60\"\n                        height=\"60\"\n                        style={{marginLeft: \"-10px\"}}\n                    />\n                    <a href={\"/users/\" + props.member.user_data.username + \"/\"} className=\"flex-grow-1 ml-3 text-dark\" style={{textDecoration: \"none\"}}>\n                        <p style={{fontSize: \"14pt\"}}>{props.member.user_data.username}</p>\n                        <div className=\"small\" style={{marginTop: \"-15px\"}}>\n                            <p className=\"text-info\">{props.member.name}</p>\n                        </div>\n                    </a>\n                    <div style={{marginLeft: \"auto\"}}>\n                        <button className=\"btn btn-warning\">Удалить</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Member;","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport Member from \"./Member\";\n\nconst MemberList = () => {\n    const chatMembers = useSelector((state: any) => state.requestList.members)\n\n    return (\n        <div className=\"container\">\n            {chatMembers.map((member) => (\n                <Member member={member}/>\n            ))}\n        </div>\n    );\n};\n\nexport default MemberList;","import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchGettingAllUserFriends} from \"../../../../store/friend/actions\";\nimport MemberList from \"../member/MemberList\";\n\nconst MembersTab = (props: any) => {\n    const dispatch = useDispatch();\n\n    const currentUserData = useSelector((state: any) => state.user)\n    const chatMembers = useSelector((state: any) => state.requestList.members)\n\n    useEffect(() => {\n        console.log(chatMembers)\n    }, [])\n\n    if (chatMembers.length > 0 && currentUserData.isAuth) {\n        return (\n            <div className=\"tab-pane fade\" id=\"members-tab\" role=\"tabpanel\" aria-labelledby=\"nav-members-tab\">\n                <MemberList/>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"tab-pane fade\" id=\"members-tab\" role=\"tabpanel\" aria-labelledby=\"nav-members-tab\">\n                В вашем чате нет участников. Мб пригласим хоть каво нипуть?((\n            </div>\n        )\n    }\n}\n\nexport default MembersTab;","import React, {useEffect, useState} from 'react';\nimport { useSelector } from 'react-redux';\n\nimport SettingMenu from './SettingMenu';\nimport InformationTab from '../tab/InformationTab';\nimport AddFriendTab from '../tab/AddFriendTab';\nimport MembersTab from \"../tab/MembersTab\";\n\n\nconst SettingWindow = (props: any) => {\n    const currentUserData = useSelector((state: any) => state.user)\n\n    if (props.chatData && currentUserData.info) {\n        return (\n            <div className=\"container\">\n                <div>\n                    <SettingMenu/>\n                </div>\n                <div className=\"card\" style={{marginTop: \"5px\"}}>\n                    <div className=\"tab-content\" id=\"nav-tabContent\">\n                        <InformationTab chatData={props.chatData}/>\n                        <MembersTab chatData={props.chatData}/>\n                        <AddFriendTab chatData={props.chatData}/>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                Loading\n            </div>\n        )\n    }\n}\n\nexport default SettingWindow;\n","import axios from 'axios';\n\n\ninterface chatDataI {\n    chat: object | null,\n    error: number | boolean\n}\n\nconst getChatData = async(chatId: number) => {\n    let data: chatDataI = {\n        chat: null,\n        error: false\n    }\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/chats/\" + chatId + \"/\", {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            data.chat = response.data\n        })\n        .catch((error) => {\n            data.error = error.response.status\n        })\n\n    return data;\n}\n\nexport { getChatData }\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport SettingWindow from './include/setting/SettingWindow';\n\nimport { getChatData } from './services';\nimport {fetchGettingAllChatMembers, fetchGettingAllChatRequest} from \"../../store/chat/actions\";\n\n\nconst ChatSettingPage = (props: any) => {\n    const chatId = props.match.params.chatId;\n    const dispatch = useDispatch()\n\n    const currentUserData = useSelector((state: any) => state.user)\n    const chatRed = useSelector((state: any) => state.requestList)\n\n    const [chatData, setChatData] = useState({\n        data: null,\n        error: null\n    })\n\n    useEffect(() => {\n        getChatData(chatId)\n            .then((result) => {\n                setChatData({data: result.chat, error: result.error})\n            })\n    }, [])\n\n    useEffect(() => {\n        dispatch(fetchGettingAllChatMembers(chatId))\n        dispatch(fetchGettingAllChatRequest(chatId))\n    }, [dispatch])\n\n\n    if (currentUserData.isAuth && chatData.error !== 403) {\n        return (\n            <div>\n                <Header/>\n                <SettingWindow chatData={chatData}/>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    }\n}\n\nexport default ChatSettingPage;","import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\nimport MessageChatWindow from './include/message/MessageChatWindow';\n\nimport { getCurrentUserData } from '../../services/service';\nimport { getChatData } from './services';\n\n\nconst getChatMessages = async(chatId, pageNumber) => {\n    let data =  {\n        messages: null,\n        error: null\n    }\n\n    await axios.get(`http://127.0.0.1:8000/api/v1/chats/${chatId}/messages/?page_number=${pageNumber}`, {\n        headers: {\n            Authorization: 'Bearer ' + localStorage.getItem(\"jwt\")\n        }\n    })\n        .then((response) => {\n            if (response.status !== 204) {\n                data.messages = response.data\n            } else {\n                data.error = true\n            }\n        })\n        .catch((error) => {\n            data.error = true\n        })\n\n    return data\n}\n\n\nconst GroupMessageChatPage = (props) => {\n    const chatId = props.match.params.chatId;\n\n    const [currentUserData, setCurrentUserData] = useState()\n\n    const [messages, setMessages] = useState([])\n\n    const [newMessages, setNewMessages] = useState([])\n\n    const [chat, setChat] = useState(null)\n    const [scrollHeights, setScrollHeights] = useState([1355])\n    const [error, setError] = useState(false)\n\n    const [currentPage, setCurrentPage] = useState(2);\n    const [fetching, setFetching] = useState(false)\n\n    const ws = useRef()\n\n\n    const addNewMessageInArray = (data) => {\n        let chatHistory = document.getElementById('chat-window')\n\n        setNewMessages(\n            newMessages => [...newMessages, data]\n        )\n\n        if (chatHistory.scrollHeight - chatHistory.scrollTop < 1000) {\n            chatHistory.scrollTop = chatHistory.scrollHeight;\n        }\n    }\n\n    useEffect(() => {\n        getChatData(chatId)\n            .then((result) => {\n                setChat(result.chat)\n                setError(result.error)\n            })\n    }, [])\n\n    useEffect(() => {\n        getCurrentUserData()\n            .then((result) => {\n                setCurrentUserData(result)\n            })\n        getChatMessages(chatId, 1)\n            .then((result) => {\n                setMessages(result.messages.reverse())\n                let chatHistory = document.getElementById('chat-window')\n                chatHistory.scrollTop = chatHistory.scrollHeight;\n            })\n    }, [])\n\n    useEffect(() => {\n        ws.current = new WebSocket(\"ws://127.0.0.1:8000/ws/group_chat/\" + chatId + \"/?token=\" + localStorage.getItem(\"jwt\") + \"/\")\n        ws.current.onopen = () => {\n            console.log(\"opened\")\n        }\n\n        ws.current.onclose = () => {\n            console.log(\"closed\")\n        }\n\n        ws.current.onmessage = (e) => {\n            addNewMessageInArray(JSON.parse(e.data))\n        }\n    }, [])\n\n    useEffect(() => {\n        if (fetching && currentPage !== -1) {\n            console.log(\"fetching\")\n            getChatMessages(chatId, currentPage)\n                .then((result) => {\n                    if (!result.error) {\n                        setMessages([...result.messages.reverse(), ...messages])\n                        setCurrentPage(prevState => prevState + 1)\n                    } else {\n                        setCurrentPage(-1)\n                    }\n                })\n                .catch(err => {\n                    console.log(err);\n                })\n                .finally(() => {\n                    setFetching(false)\n                })\n        }\n    }, [fetching])\n\n    useEffect(() => {\n        if (messages && messages.length > 0) {\n            let chatHistory = document.getElementById('chat-window')\n            setScrollHeights([...scrollHeights, chatHistory.scrollHeight])\n        }\n    }, [messages])\n\n\n    const scrollHandler = (e) => {\n        if (\n            e.target.scrollTop < 10 &&\n            currentPage !== -1\n        ) {\n            setFetching(true)\n            let elem = document.getElementById('chat-window')\n            console.log(`Scroll top is ${elem.scrollTop}`)\n            console.log(scrollHeights)\n            elem.scrollTop = e.target.scrollHeight - scrollHeights[scrollHeights.length - 2]\n        }\n    }\n\n\n    if (error === 404 || error === 403) {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    } else if ((messages || newMessages) && currentUserData) {\n        return (\n            <div>\n                <Header/>\n                <MessageChatWindow\n                    type_is_group={true}\n                    messages={messages}\n                    newMessages={newMessages}\n                    chat={chat}\n                    ws={ws.current}\n                    currentUserData={currentUserData}\n                    scrollHandler={scrollHandler}\n                 />\n            </div>\n        )\n    } else {\n        console.log(messages)\n        console.log(newMessages)\n        console.log(currentUserData)\n        return (\n            <div>\n                лох\n            </div>\n        )\n    }\n}\n\nexport default GroupMessageChatPage;","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\n\nconst SwitchMenu = () => {\n    return (\n        <nav>\n            <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                    <a href=\"#home\" aria-controls=\"home\" role=\"tab\" class=\"nav-link active\" data-toggle=\"tab\" aria-selected=\"true\">Мой профиль</a>\n                </li>\n                <li class=\"nav-item\">\n                    <a href=\"#settings\" aria-controls=\"settings\" role=\"tab\" class=\"nav-link\" data-toggle=\"tab\" aria-selected=\"false\">Настройки</a>\n                </li>\n            </ul>\n        </nav>\n    )\n}\n\nexport default SwitchMenu;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './style.css';\nimport {\n    fetchGettingFriendRequest,\n    fetchSendingFriendRequest,\n    fetchDeletingFriendRequest,\n    fetchPatchingFriendRequest\n} from '../../../../store/friend/actions';\nimport { fetchUserData } from '../../../../store/user/actions';\n\n\n\nconst ButtonVariants = (props: any) => {\n    const friendRequest = useSelector((state: any) => state.friendRequest)\n    const currentUserData = useSelector((state: any) => state.user)\n    const dispatch = useDispatch()\n\n\n    const handleDeleteFriendRequest = (e: any) => {\n        dispatch(fetchDeletingFriendRequest(props.user.id))\n        dispatch(fetchGettingFriendRequest(props.user.id))\n        dispatch(fetchUserData())\n    }\n\n    const handleAcceptFriendRequest = (e: any) => {\n        dispatch(fetchPatchingFriendRequest(props.user.id, 1))\n        dispatch(fetchGettingFriendRequest(props.user.id))\n        dispatch(fetchUserData())\n    }\n\n\n    if (!currentUserData.isAuth) {\n        return (\n            <div>\n                <a href=\"/auth/login/\"  className=\"btn btn-outline-primary btn-block default-button\">Хотите войти?</a>\n            </div>\n        )\n    } else if (props.user.id === currentUserData.info.id) {\n        return (\n            <div>\n                <a href=\"/redac/\" className=\"btn btn-outline-secondary btn-block default-button\">Редактировать</a>\n            </div>\n        )\n    } else if ((friendRequest.detail) && (friendRequest.detail.is_accepted === false)) {\n        return (\n            <div>\n                <a\n                    href={`/chats/personal/${props.user.username}/`}\n                    className=\"btn btn-info default-button\"\n                >\n                    Отправить сообщение\n                </a>\n                {'\\n'}\n                {friendRequest.detail.to_user.id === props.user.id\n                    ?\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-warning default-button\"\n                            onClick={handleDeleteFriendRequest}\n                            style={{width: \"100%\"}}\n                         >\n                            Отозвать запрос.\n                        </button>\n                    :\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-success default-button\"\n                            onClick={handleAcceptFriendRequest}\n                         >\n                            Принять заявку в друзья.\n                        </button>\n                }\n            </div>\n        )\n    } else if (currentUserData.info.friends.indexOf(props.user.id) === -1) {\n        return (\n            <div>\n                <a\n                    href={`/chats/personal/${props.user.username}/`}\n                    className=\"btn btn-info default-button\"\n                >\n                    Отправить сообщение\n                </a>\n                {'\\n'}\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary btn-block default-button\"\n                    onClick={() => dispatch(fetchSendingFriendRequest(props.user.id))}\n                    style={{width: \"100%\"}}\n                 >\n                    Добавить в друзья.\n                </button>\n            </div>\n        )\n    } else if (currentUserData.info.friends.indexOf(props.user.id) !== -1) {\n        return (\n            <div>\n                <a\n                    href={`/chats/personal/${props.user.username}/`}\n                    className=\"btn btn-info default-button\"\n                >\n                    Отправить сообщение\n                </a>\n                <button\n                    type=\"button\"\n                    className=\"btn btn-outline-primary btn-block default-button\"\n                    onClick={handleDeleteFriendRequest}\n                    style={{width: \"100%\"}}\n                 >\n                    Удалить из друзей.\n                </button>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                Какая то дичь\n            </div>\n        )\n    }\n}\n\nexport default ButtonVariants;\n","import React from 'react';\n\n\n\nconst CardUserCells = (props: any) => {\n    const cells = [\n        {\n            name: \"Друзья\",\n            value: props.friends.length,\n            width: \"120px\",\n            marginLeft: \"0px\",\n            href: \"/users/\" + props.user.username + \"/friends/\"\n        },\n        {\n            name: \"Публикаций\",\n            value: props.posts.length,\n            width: \"120px\",\n            marginLeft: \"20px\",\n            href: \"#\"\n        },\n        {\n            name: \"Комментарий\",\n            value: props.commentList.length,\n            width: \"130px\",\n            marginLeft: \"20px\",\n            href: \"#\"\n        }\n    ]\n\n    return (\n        <div className=\"col-12 col-sm-11 col-md-8 col-lg-8\">\n            <p style={{fontSize: \"20pt\"}}>{props.user.username}</p>\n            <p className=\"text-info\" style={{marginTop: \"-15px\"}}>{props.user.group_data.name}</p>\n            <hr style={{borderColor: \"red\"}}/>\n            <div id=\"user_second_data\">\n                <p><u>Почта</u>: {props.user.email}</p>\n            </div>\n\n            <div className=\"d-flex flex-row\" style={{\n                                        height: \"40%\",\n                                        position: \"relative\",\n                                        marginLeft: \"1px\",\n                                        textAlign: \"center\"\n                                   }}>\n                {cells.map((cell) => (\n                    <a href={cell.href} className=\"text-dark\" style={{textDecoration: \"none\"}}>\n                         <div className=\"p-2 card d-none d-lg-block\" style={{height: \"80%\", width: cell.width, marginLeft: cell.marginLeft}}>\n                             <b>{cell.name}</b>\n                             <p style={{fontSize: \"35pt\"}}>{cell.value}</p>\n                         </div>\n\n                         <div className=\"p-2 card d-lg-none\" style={{height: \"auto\", width: \"auto\", marginLeft: cell.marginLeft}}>\n                             <b>{cell.name}</b>\n                             <p style={{fontSize: \"35pt\"}}>{cell.value}</p>\n                         </div>\n                    </a>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default CardUserCells;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\nimport ButtonVariants from '../button/ButtonVariants';\nimport CardUserCells from './CardUserCells';\n\n\ninterface cellsI {\n    name: string,\n    value: number,\n    width: string,\n    marginLeft: string\n}\n\n\nconst getCommentList = async(userId: number) => {\n    let commentList: object[] | null | undefined = []\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/user/comments/\" + userId + \"/\")\n        .then((response) => {\n            commentList = response.data\n        })\n        .catch((err) => {\n            console.error(err)\n        })\n\n    return commentList\n}\n\n\nconst InfoUserCell = (props: any) => {\n    const friends: number[] = props.user.friends;\n\n    const [commentList, setCommentList] = useState([])\n\n    useEffect(() => {\n        getCommentList(props.user.id)\n            .then((result) => {\n                setCommentList(result)\n            })\n    }, [])\n\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-12 col-sm-11 col-md-3 col-lg-3\">\n                <img src={props.user.avatar.image} alt=\"avatar\" className=\"rounded w-100\"/>{\"\\n\\n\"}\n                <ButtonVariants\n                    user={props.user}\n                 />\n                {\"\\n\\n\"}\n            </div>\n            <CardUserCells\n                user={props.user}\n                friends={friends}\n                posts={props.posts}\n                commentList={commentList}\n             />\n        </div>\n    )\n}\n\nexport default InfoUserCell;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport PostList from '../../../soc-ui/include/post/PostList';\nimport InfoUserCell from '../cell/InfoUserCell';\n\n\nconst getUserPosts = async(userId: number) => {\n    let userPosts: object[] | null | undefined;\n\n    await axios.get(\"http://127.0.0.1:8000/api/v1/user/posts/\" + userId + \"/\")\n        .then((response) => {\n            if (response.status == 204) {\n                userPosts = null\n            }\n            userPosts = response.data\n        })\n        .catch((error) => {\n            alert(error.response.status + \" error\")\n        })\n\n    return userPosts\n}\n\n\nconst InfoTab = (props: any) => {\n    const [userPosts, setUserPosts] = useState([])\n\n    useEffect(() => {\n        getUserPosts(props.user.id)\n            .then((result) => {\n                setUserPosts(result)\n            })\n    }, [])\n\n    return (\n        <div className=\"tab-pane fade show active\" id=\"home\">\n            <InfoUserCell\n                user={props.user}\n                posts={userPosts}\n             />\n\t\t\t{\"\\n\\n\"}\n\t\t\t{userPosts ?\n            <PostList\n                posts={userPosts}\n                categoryId={\"#\"}\n             />\n\t\t\t:\n\t\t\t\"Нет постов\"\n\t\t\t}\n\t    </div>\n    )\n}\n\nexport default InfoTab;\n","import React from 'react';\n\n\n\nimport '../../../../App.css';\n\n\nconst SettingTab = () => {\n    return (\n        <div className=\"tab-pane\" id=\"settings\">\n            <div className=\"row\">\n                <div className=\"col-8\">\n                    Тут будут настройки\n                </div>\n                <div className=\"col-3\"></div>\n            </div>\n        </div>\n    )\n}\n\nexport default SettingTab;","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { findUserAndGetData } from '../../services/service';\nimport { fetchGettingFriendRequest } from '../../store/friend/actions';\n\nimport Header from '../extend/Header';\nimport Error404NotFound from '../extend/Error404NotFound';\n\nimport SwitchMenu from './include/menu/SwitchMenu';\nimport InfoTab from './include/tab/InfoTab';\nimport SettingTab from './include/tab/SettingTab'\n\n\nconst UserPage = (props) => {\n    let username = props.match.params.username;\n\n    const dispatch = useDispatch()\n    const [user, setUser] = useState()\n    const currentUserData = useSelector(state => state.user)\n\n    useEffect(() => {\n        if (user) {\n            dispatch(fetchGettingFriendRequest(user.id))\n        }\n    }, [dispatch, user])\n\n    useEffect(() => {\n        findUserAndGetData(username)\n            .then((result) => {\n                setUser(result)\n            })\n    }, [])\n\n    if (user && currentUserData !== undefined) {\n        return (\n            <div>\n                <Header/>\n                <div className=\"container\">\n                    <SwitchMenu/>\n                    <div className=\"tab-content\">\n                        {\"\\n\"}\n                        <InfoTab user={user}/>\n                        <SettingTab/>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    }\n}\n\nexport default UserPage;\n","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {deleteUserFromFriendList, fetchDeletingUserFromFriendList} from \"../../../../store/friend/actions\";\nimport friendListUser from \"../../FriendListUser\";\n\n\nconst FriendCell = (props) => {\n    const currentUserData = useSelector((state: any) => state.user)\n    const friendListData = useSelector((state: any) => state.friendList)\n\n    const dispatch = useDispatch()\n\n    const handleDeleteUserFromFriendList = () => {\n        dispatch(fetchDeletingUserFromFriendList(props.friend.id))\n        dispatch(deleteUserFromFriendList(friendListData.list, props.friend.id))\n    }\n\n    return (\n        <div className=\"card col-9 my-3 mx-auto border border-primary\">\n            <div className=\"list-group-item list-group-item-action border-0\">\n                <div className=\"d-flex align-items-start\" style={{marginLeft: \"-10px\"}}>\n                    <img\n                        src={props.friend.avatar.image}\n                        className=\"rounded-circle mr-1\"\n                        alt=\"lol\"\n                        width=\"60\"\n                        height=\"60\"\n                        style={{marginLeft: \"-10px\"}}\n                    />\n                    <div className=\"flex-grow-1 ml-3\">\n                        <a href={\"/users/\" + props.friend.username + \"/\"}>\n                            <p style={{fontSize: \"14pt\"}}>{props.friend.username}</p>\n                        </a>\n                        <div className=\"small\" style={{marginTop: \"-15px\"}}>\n                            <p className=\"text-info\">{props.friend.group_data.name}</p>\n                            <u>Почта: </u>{\" \" + props.friend.email}\n                        </div>\n                    </div>\n                    {currentUserData?.info?.id === props.user.id\n                        ?\n                        <div style={{marginLeft: \"auto\"}} className=\"d-none d-lg-block\" onClick={handleDeleteUserFromFriendList}>\n                            <button className=\"btn btn-danger\">\n                                Удалить\n                            </button>\n                        </div>\n                        :\n                        null\n                    }\n                </div>\n                {currentUserData?.info?.id === props.user.id\n                    ?\n                    <div className=\"d-lg-none\">\n                        <button className=\"btn btn-danger\" style={{marginTop: \"10px\", width: \"100%\"}} onClick={() => fetchDeletingUserFromFriendList(props.friend.id)}>\n                            Удалить\n                        </button>\n                    </div>\n                    :\n                    null\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default FriendCell;\n","import React from \"react\";\nimport {useSelector} from \"react-redux\";\nimport FriendCell from \"../cell/FriendCell\";\n\n\nconst FriendList = (props) => {\n    const friendListData = useSelector((state: any) => state.friendList)\n\n    if (friendListData && friendListData.list.length > 0) {\n        return (\n            <div>\n                {friendListData.list.map((friend) => (\n                    <FriendCell key={friend.id} friend={friend} user={props.user}/>\n                ))}\n            </div>\n        )\n    } else {\n        return (\n            <div style={{textAlign: \"center\"}}>\n                <b>This user doesnt have friends.</b>\n            </div>\n        )\n    }\n}\n\nexport default FriendList;\n","import React, {useEffect, useState} from \"react\";\nimport {findUserAndGetData} from \"../../services/service\";\nimport axios from \"axios\";\nimport Error404NotFound from \"../extend/Error404NotFound\";\nimport Header from \"../extend/Header\";\nimport {UserI} from \"../../interfaces\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {fetchGettingAllUserFriends} from \"../../store/friend/actions\";\nimport FriendList from \"./include/friend/FriendList\";\n\n\nconst FriendListUser = (props) => {\n    const username = props.match.params.username;\n\n    const dispatch = useDispatch()\n    const friendListData = useSelector((state: any) => state.friendList)\n\n    const [user, setUser] = useState<UserI>()\n\n\n    useEffect(() => {\n        if (user) {\n            dispatch(fetchGettingAllUserFriends(user.id))\n        }\n    }, [dispatch, user])\n\n    useEffect(() => {\n        findUserAndGetData(username)\n            .then((result) => {\n                setUser(result)\n            })\n    }, [username])\n\n\n    if (friendListData.status >= 400 && friendListData.status < 600) {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <div className=\"container\">\n                    <FriendList user={user}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default FriendListUser;\n","export const GroupChatNotification = () => {\n    return (\n        <div className=\"alert alert-primary\" role=\"alert\">\n            Список чатов на этой странице отсортирован по их названию. Последние сообщения не обновляются в реальном времени.\n            {'\\n'}<a href=\"/chats/\" className=\"alert-link\"> Перейти в общий список чатов</a>.\n        </div>\n    )\n}","import React, {useState} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n    FILTER_GROUP_CHAT_LIST_BY_EMPTY_MESSAGES, GET_CURRENT_USER_CHAT_LIST,\n    GET_GROUP_CHAT_LIST,\n    GET_GROUP_CHAT_LIST_WITH_MESSAGES,\n    GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES,\n    SORT_GROUP_CHAT_LIST_BY_LAST_MESSAGES\n} from \"../../../../store/chat/actionTypes\";\n\n\nconst ButtonRow = () => {\n    const dispatch = useDispatch()\n    const [name, setName] = useState()\n\n    const currentUserId = useSelector((state: any) => state.user.info.id)\n\n    const filterByEmptyMessages = () => {\n        dispatch({type: GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES})\n    }\n\n    const sortByLastMessages = () => {\n        dispatch({type: GET_GROUP_CHAT_LIST_WITH_MESSAGES})\n    }\n\n    const filterByCreatorUser = () => {\n        dispatch({\n            type: GET_CURRENT_USER_CHAT_LIST,\n            payload: {\n                userId: currentUserId\n            }\n        })\n    }\n\n    const reset = () => {\n        dispatch({type: GET_GROUP_CHAT_LIST})\n    }\n\n    return (\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n            <button type=\"button\" className=\"btn btn-outline-primary\" onClick={sortByLastMessages}>С сообщениями</button>\n            <button type=\"button\" className=\"btn btn-outline-primary\" onClick={filterByEmptyMessages}>Без сообщений</button>\n            <button type=\"button\" className=\"btn btn-outline-primary\" onClick={filterByCreatorUser}>Ваши</button>\n            <button type=\"button\" className=\"btn btn-outline-warning\" onClick={reset}>Сбросить</button>\n        </div>\n\n    );\n};\n\nexport default ButtonRow;\n","import React from 'react';\n\nconst ChatFilteringInput = (props) => {\n    return (\n        <div className=\"row\">\n            <div className=\"col-11 col-md-10 col-lg-9 col-xl-9 mx-auto\" style={{display: \"flex\"}}>\n                <input type=\"text\" className=\"form-control my-3 ml-2\" placeholder=\"Search...\"/>\n                <button className=\"btn btn-primary my-3 ml-2\">Найти</button>\n            </div>\n        </div>\n    )\n}\n\nexport default ChatFilteringInput;","import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from \"react-redux\";\nimport Error404NotFound from \"../extend/Error404NotFound\";\nimport Header from \"../extend/Header\";\nimport ChatList from \"./include/chat/ChatList\";\nimport {getGroupChats} from \"../../services/chatService\";\nimport {addNewGroupChatsInGroupChatList} from \"../../store/chat/actions\";\nimport {GroupChatNotification} from \"./include/notifications/Notifications\";\nimport ButtonRow from \"./include/button_row/ButtonRow\";\nimport ChatFilteringInput from \"./include/chat/ChatFilteringInput\";\n\n\nconst GroupChatListPage = () => {\n    const dispatch = useDispatch()\n\n    const groupChats = useSelector((state: any) => state.chatList.groupChats)\n    const userData = useSelector((state: any) => state.user)\n\n    //const [groupChats, setGroupChats] = useState([])\n    const [page, setPage] = useState(1)\n    const [fetching, setFetching] = useState(true)\n    const [error, setError] = useState(null)\n\n\n    useEffect(() => {\n        if (fetching && page !== -1) {\n            console.log(\"fetching\")\n            getGroupChats('-name', page)\n                .then(response => {\n                    dispatch(addNewGroupChatsInGroupChatList(response.data))\n                    if (response.status === 204) {\n                        setPage(-1)\n                    } else {\n                        setPage(prevState => prevState + 1)\n                    }\n                })\n                .catch(err => {\n                    console.log(err.response);\n                    if (err.response.status) {\n                        setError(\n                            {\n                                response: err.response.status\n                            });\n                    }\n                })\n                .finally(() => {\n                    setFetching(false)\n                })\n        }\n    }, [fetching])\n\n    useEffect(() => {\n        document.addEventListener('scroll', scrollHandler)\n        return function () {\n            document.removeEventListener('scroll', scrollHandler)\n        }\n    }, [])\n\n    const scrollHandler = (e) => {\n        if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100 &&\n            page !== -1\n        ) {\n            setFetching(true)\n        }\n    }\n\n\n    if (userData.isAuth && !error) {\n        return (\n            <div>\n                <Header/>\n                <div className=\"container\">\n                    <GroupChatNotification/>\n                    {\"\\n\"}\n                    <ButtonRow/>\n                    {\"\\n\\n\"}\n                    <div className=\"card\">\n                        <ChatFilteringInput/>\n                        <div className=\"row\">\n                            {\"\\n\"}\n                            <div className=\"col-12\">\n                                {groupChats && groupChats.length > 0\n                                    ? <ChatList chats={groupChats} type_is_group={true}/>\n                                    : <p>У вас нет чатов... Мб создадим?</p>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <Header/>\n                <Error404NotFound/>\n            </div>\n        )\n    }\n}\n\nexport default GroupChatListPage;","import React from 'react';\n\nconst PersonalChatListPage = () => {\n    return (\n        <div>\n\n        </div>\n    );\n};\n\nexport default PersonalChatListPage;","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.js';\n\nimport {\n    Route,\n    Switch,\n    withRouter,\n    Redirect\n} from \"react-router-dom\";\n\nimport './App.css';\nimport { fetchUserData } from './store/user/actions';\n\nimport CategoryPage from './components/soc-ui/CategoryPage';\nimport PostPage from './components/soc-ui/PostPage';\nimport PostDetailPage from './components/soc-ui/PostDetailPage';\nimport CreatePostPage from './components/soc-ui/CreatePostPage';\nimport NotificationsPage from './components/soc-ui/NotificationsPage';\n\nimport LoginPage from './components/auth-ui/LoginPage';\nimport SignUpPage from './components/auth-ui/SignUpPage';\nimport AcceptAccountPage from './components/auth-ui/AcceptAccountPage';\n\nimport ChatListPage from './components/chat-ui/ChatListPage';\nimport PersonalMessageChatPage from './components/chat-ui/PersonalMessageChatPage';\nimport ChatSettingPage from './components/chat-ui/ChatSettingPage';\nimport GroupMessageChatPage from './components/chat-ui/GroupMessageChatPage';\n\nimport UserPage from './components/profile-ui/UserPage';\nimport FriendListUser from \"./components/profile-ui/FriendListUser\";\nimport GroupChatListPage from \"./components/chat-ui/GroupChatListPage\";\nimport PersonalChatListPage from \"./components/chat-ui/PersonalChatListPage\";\n\n\nconst App = (props: any) => {\n    const { history } = props;\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n       dispatch(fetchUserData())\n    }, [dispatch])\n\n    return (\n        <div className=\"App\">\n            <Switch>\n                <Route exact path='/categories/' component={CategoryPage} />\n                <Route exact path='/categories/create/' component={CreatePostPage} />\n                <Route exact path='/categories/c_id/:categoryId/' component={PostPage} />\n                <Route exact path='/categories/c_id/:categoryId/:postId/' component={PostDetailPage} />\n\n                <Route exact path='/notifications/' component={NotificationsPage} />\n\n                <Route exact path='/auth/login/' component={LoginPage} />\n                <Route exact path='/auth/sign_up/' component={SignUpPage} />\n                <Route exact path='/auth/accept/:token/' component={AcceptAccountPage} />\n\n                <Route exact path='/users/:username' component={UserPage} />\n                <Route exact path='/users/:username/friends/' component={FriendListUser}/>\n\n                <Route exact path='/chats/' component={ChatListPage}/>\n                <Route exact path='/chats/group/' component={GroupChatListPage}/>\n                <Route exact path='chats/personal/' component={PersonalChatListPage}/>\n\n                <Route exact path='/chats/group/:chatId/' component={GroupMessageChatPage}/>\n                <Route exact path='/chats/group/:chatId/settings/' component={ChatSettingPage}/>\n                <Route exact path='/chats/personal/:username/' component={PersonalMessageChatPage}/>\n\n                <Redirect from='/' to='/categories'/>\n            </Switch>\n        </div>\n    );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n    ACCEPT_CHAT_NOTIFICATION,\n    GET_USER_CHAT_NOTIFICATIONS,\n    GET_USER_DATA,\n    DELETE_CHAT_NOTIFICATION\n} from './actionType';\nimport {GroupChatRequestI, UserI} from \"../../interfaces\";\n\n\ninterface UserReducerStateI {\n    info: UserI | null,\n    isAuth: boolean,\n    chatRequestNotifications: Array<GroupChatRequestI>\n}\n\n\nconst defaultState: UserReducerStateI = {\n    info: null,\n    isAuth: false,\n    chatRequestNotifications: []\n}\n\nexport const userReducer = (state = defaultState, action: any) => {\n    switch (action.type) {\n        case GET_USER_DATA:\n            return {...state, ...action.payload}\n        case GET_USER_CHAT_NOTIFICATIONS:\n            return {...state, ...action.payload}\n        case ACCEPT_CHAT_NOTIFICATION:\n            const newRequestListWithAcceptedRequest = state.chatRequestNotifications.filter(request => request.id !== action.payload.acceptedRequest.id)\n            return {...state, ...action.payload, chatRequestNotifications: newRequestListWithAcceptedRequest}\n        case DELETE_CHAT_NOTIFICATION:\n            let newRequestListWithoutDeletedRequest = state.chatRequestNotifications.filter(request => request.id !== action.payload.deletedRequestId)\n            return {...state, ...action.payload, chatRequestNotifications: newRequestListWithoutDeletedRequest}\n        default:\n            return state\n    }\n}\n\n\n","import {\n    GET_FRIEND_REQUEST,\n    GET_FRIEND_REQUESTS,\n    REMOVE_FRIEND_REQUEST_FROM_LIST,\n    SEND_FRIEND_REQUEST,\n    ACCEPT_FRIEND_REQUEST,\n    DELETE_FRIEND_REQUEST,\n    GET_ALL_FRIENDS,\n    DELETE_USER_FROM_FRIEND_LIST\n} from './actionTypes';\nimport {FriendRequestI, UserI} from \"../../interfaces\";\n\n\ninterface FriendRequestStateI {\n    list: Array<FriendRequestI>,\n    detail: FriendRequestI,\n    statusCode: number | null\n}\n\ninterface FriendListStateI {\n    list: Array<UserI>,\n    statusCode: number | boolean\n}\n\n\nconst defaultRequestState: FriendRequestStateI = {\n    list: [],\n    detail: null,\n    statusCode: null\n}\n\nconst defaultListState: FriendListStateI = {\n    list: [],\n    statusCode: null\n}\n\n\nexport const friendRequestReducer = (state: FriendRequestStateI = defaultRequestState, action: any) => {\n    switch (action.type) {\n        case GET_FRIEND_REQUEST:\n            return {...state, ...action.payload}\n        case GET_FRIEND_REQUESTS:\n            return {...state, ...action.payload}\n        case REMOVE_FRIEND_REQUEST_FROM_LIST:\n            return {...state, ...action.payload}\n        case SEND_FRIEND_REQUEST:\n            return {...state, ...action.payload}\n        case ACCEPT_FRIEND_REQUEST:\n            return {...state, ...action.payload}\n        case DELETE_FRIEND_REQUEST:\n            return {...state, ...action.payload}\n        default:\n            return state\n    }\n}\n\nexport const friendListReducer = (state: FriendListStateI = defaultListState, action: any) => {\n    switch (action.type) {\n        case GET_ALL_FRIENDS:\n            return {...state, ...action.payload}\n        case DELETE_USER_FROM_FRIEND_LIST:\n            return {...state, ...action.payload}\n        default:\n            return state\n    }\n}\n","import {\n    ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST,\n    CREATE_REQUEST,\n    DELETE_REQUEST,\n    GET_ALL_CHAT_MEMBERS,\n    GET_ALL_CHAT_REQUESTS,\n    GET_GROUP_CHAT_LIST,\n    GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES,\n    GET_GROUP_CHAT_LIST_WITH_MESSAGES,\n    GET_CURRENT_USER_CHAT_LIST\n} from \"./actionTypes\";\nimport {GroupChatI, GroupChatRequestI} from \"../../interfaces\";\n\n\ninterface RequestState {\n    id: number,\n    isSent: boolean\n}\n\ninterface RequestListState {\n    requestList: Array<GroupChatRequestI>,\n    newRequest: GroupChatRequestI,\n    deletingRequestId: number,\n    requestListState: Array<RequestState>,\n    userChatRequestList: Array<GroupChatRequestI>,\n    members: any\n}\n\nconst defaultRequestListState: RequestListState = {\n    requestList: [],\n    newRequest: null,\n    deletingRequestId: null,\n    requestListState: [],\n    userChatRequestList: [],\n    members: []\n}\n\nexport const requestListReducer = (state: RequestListState = defaultRequestListState, action: any) => {\n    switch (action.type) {\n        case GET_ALL_CHAT_REQUESTS:\n            return {...state, ...action.payload}\n        case GET_ALL_CHAT_MEMBERS:\n            return {...state, ...action.payload}\n        case CREATE_REQUEST:\n            return {...state, ...action.payload, requestList: [...state.requestList, action.payload.newRequest]}\n        case DELETE_REQUEST:\n            let requestListWithoutDeletedRequest = state.requestList.filter(request => request.id !== action.payload.deletingRequestId)\n            return {...state, ...action.payload, requestList: requestListWithoutDeletedRequest}\n        default:\n            return state\n    }\n}\n\n\ninterface ChatListStateI {\n    groupChats: Array<GroupChatI>,\n    groupChatsByName: Array<GroupChatI>,\n    groupChatsByEmptyMessages: Array<GroupChatI>,\n    groupChatsByLastMessages: Array<GroupChatI>,\n    groupChatsCurrentUser: Array<GroupChatI>\n}\n\nconst defaultChatListState = {\n    groupChats: [],\n    groupChatsByName: [],\n    groupChatsByEmptyMessages: [],\n    groupChatsByLastMessages: [],\n    groupChatsCurrentUser: []\n}\n\nexport const chatListReducer = (state: ChatListStateI = defaultChatListState, action: any) => {\n\n    switch (action.type) {\n        case GET_GROUP_CHAT_LIST:\n            const groupChats1 = state.groupChatsByName\n            return {...state, groupChats: groupChats1}\n\n        case GET_GROUP_CHAT_LIST_WITHOUT_MESSAGES:\n            const groupChats2 = state.groupChats.filter(groupChat => groupChat.last_message.text === \"\")\n            return {...state, groupChats: groupChats2, groupChatsByEmptyMessages: groupChats2}\n\n        case GET_GROUP_CHAT_LIST_WITH_MESSAGES:\n            const groupChats3 = state.groupChats.filter(groupChat => groupChat.last_message?.created_at != null)\n            return {...state, groupChats: groupChats3, groupChatsByLastMessages: groupChats3}\n\n        case GET_CURRENT_USER_CHAT_LIST:\n            const userId = action.payload.userId\n            const groupChats4 = state.groupChats.filter(groupChat => groupChat.creator === userId)\n            return {...state, groupChats: groupChats4, groupChatsCurrentUser: groupChats4}\n\n        case ADD_NEW_GROUP_CHATS_IN_GROUP_CHAT_LIST:\n            const newGroupChatList = [...state.groupChats, ...action.payload.newLoadedChatList]\n            return {...state, groupChats: newGroupChatList, groupChatsByName: newGroupChatList}\n        default:\n            return state\n    }\n}\n","import { createStore, applyMiddleware, combineReducers} from 'redux';\nimport thunk from 'redux-thunk'\n\nimport { userReducer } from './user/userReducer';\nimport { friendRequestReducer, friendListReducer } from './friend/friendReducer';\nimport {chatListReducer, requestListReducer} from \"./chat/chatReducer\";\n\n\nconst rootReducer = combineReducers({\n    user: userReducer,\n    friendRequest: friendRequestReducer,\n    friendList: friendListReducer,\n    requestList: requestListReducer,\n    chatList: chatListReducer\n})\n\n\nexport const store = createStore(\n    rootReducer,\n    applyMiddleware(thunk)\n)\n\nexport type RootState = ReturnType<typeof rootReducer>\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Router } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport { createBrowserHistory } from 'history';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {store} from './store';\n\nconst history = createBrowserHistory()\n\n\nReactDOM.render(\n     <Router history={history}>\n        <Provider store={store}>\n            <React.StrictMode>\n                <App/>\n            </React.StrictMode>\n        </Provider>\n     </Router>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}